
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Custom Tools Â· Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Your Name">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="integrating-new-llm-providers.html" />
    
    
    <link rel="prev" href="custom-agents.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/quick-start.html">
            
                <a href="../getting-started/quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core-concepts.html">
            
                <a href="../core-concepts.html">
            
                    
                    Core Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../core-concepts/architecture-overview.html">
            
                <a href="../core-concepts/architecture-overview.html">
            
                    
                    Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../core-concepts/agents-and-conversations.html">
            
                <a href="../core-concepts/agents-and-conversations.html">
            
                    
                    Agents and Conversations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../core-concepts/llm-configuration.html">
            
                <a href="../core-concepts/llm-configuration.html">
            
                    
                    LLM Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../core-concepts/tools-and-toolkit.html">
            
                <a href="../core-concepts/tools-and-toolkit.html">
            
                    
                    Tools and Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../core-concepts/function-utilities.html">
            
                <a href="../core-concepts/function-utilities.html">
            
                    
                    Function Utilities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced-topics.html">
            
                <a href="../advanced-topics.html">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced-topics/group-chat-patterns.html">
            
                <a href="../advanced-topics/group-chat-patterns.html">
            
                    
                    Group Chat Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced-topics/capabilities-and-composability.html">
            
                <a href="../advanced-topics/capabilities-and-composability.html">
            
                    
                    Capabilities and Composability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced-topics/retrieval-augmented-generation.html">
            
                <a href="../advanced-topics/retrieval-augmented-generation.html">
            
                    
                    Retrieval Augmented Generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced-topics/interoperability.html">
            
                <a href="../advanced-topics/interoperability.html">
            
                    
                    Interoperability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced-topics/code-execution.html">
            
                <a href="../advanced-topics/code-execution.html">
            
                    
                    Code Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../extending-and-customizing.html">
            
                <a href="../extending-and-customizing.html">
            
                    
                    Extending and Customizing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="custom-agents.html">
            
                <a href="custom-agents.html">
            
                    
                    Custom Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2" data-path="custom-tools.html">
            
                <a href="custom-tools.html">
            
                    
                    Custom Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="integrating-new-llm-providers.html">
            
                <a href="integrating-new-llm-providers.html">
            
                    
                    Integrating New LLM Providers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../agent-patterns-and-workflows.html">
            
                <a href="../agent-patterns-and-workflows.html">
            
                    
                    Agent Patterns and Workflows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                <a href="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                    
                    Swarm and Nested Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../agent-patterns-and-workflows/realtime-agents.html">
            
                <a href="../agent-patterns-and-workflows/realtime-agents.html">
            
                    
                    Realtime Agents
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../testing-and-utilities.html">
            
                <a href="../testing-and-utilities.html">
            
                    
                    Testing and Utilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../testing-and-utilities/testing-patterns.html">
            
                <a href="../testing-and-utilities/testing-patterns.html">
            
                    
                    Testing Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../testing-and-utilities/utilities-and-helpers.html">
            
                <a href="../testing-and-utilities/utilities-and-helpers.html">
            
                    
                    Utilities and Helpers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Custom Tools</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="custom-tools">Custom Tools</h1>
<h2 id="quality-check">Quality Check</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">quality_check:</span>
<span class="hljs-attr">  score:</span> <span class="hljs-number">8</span>
<span class="hljs-attr">  issues:</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Technical Accuracy"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The documentation does not specify the full import path for ConversableAgent, which may confuse users if autogen is modularized. Also, some agent registration methods (like .register_tool) are shown but not explained."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Clarify all import paths and briefly explain the differences between registration methods."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Completeness"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Does not mention how to unregister or update tools, nor does it discuss error handling when a tool fails."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add a section or note on tool lifecycle management (unregister/update) and error handling best practices."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Clarity"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The explanation of interoperability with external tools is brief and lacks a concrete example for CrewAI."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Expand the interoperability section with more detailed examples or references."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Code Example Quality"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Some registration code is out of context or ambiguous (e.g., agent.register_for_llm()(add_employee) assumes agent exists, but not fully shown in that example)."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Ensure all code snippets are self-contained or clarify prerequisites in comments."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Best Practices Coverage"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"While most best practices are covered, there is no mention of tool documentation/testing or security considerations."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add best practices around testing tools and security (e.g., avoiding unsafe operations in tools)."</span>
<span class="hljs-attr">  strengths:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Clear and thorough explanation of the core concept and workflow for custom tools."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Good range of code examples, including basic usage, grouping, complex input, and interoperability."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Best practices are practical and actionable."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Related concepts section effectively links to other parts of the agent framework."</span>
<span class="hljs-attr">  recommendations:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Add a short section on unregistering/updating tools and handling tool errors."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Expand on interoperability with additional examples and clarify import paths and registration methods."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Ensure all code examples are either fully runnable or include comments on required setup."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Consider adding a tip or warning box about security and validation, especially when exposing tool logic to LLMs."</span>
</code></pre>
<h2 id="content">Content</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">content:</span>
<span class="hljs-attr">  overview:</span> <span class="hljs-string">|
    Custom tools allow you to extend agent capabilities by defining your own functions that agents can call during conversations. By building and integrating custom tools, you enable agents to perform specific tasks, interact with external systems, and provide richer, more actionable responses. The framework provides abstractions and decorators for defining, registering, and managing custom tools, ensuring seamless function-calling by LLMs and agents.
</span><span class="hljs-attr">  explanation:</span> <span class="hljs-string">|
    In the agent framework, "tools" are lightweight wrappers around Python callables (functions, methods, or objects) that expose their signature and description to both agents and LLMs. This enables LLMs to propose tool usage (function calls) during conversations, and lets agents execute these tools as part of their workflow.

    You can create a custom tool by:
      - Writing a Python function with clear type annotations and a docstring or description.
      - Decorating the function with the `@tool` decorator (from `autogen.tools`) to mark it as a Tool.
      - Registering the tool with an agent (using `.register_tool`, `.register_for_llm`, or `.register_for_execution`).
      - Optionally grouping tools using a `Toolkit` for collective management and registration.

    Once registered, tools become available to the agentâs LLM for function-calling and/or direct execution. This allows the agent to invoke your custom logic in response to user queries or during multi-agent workflows.

    The system supports interoperability with external tool ecosystems (like LangChain or CrewAI) via converters, but the recommended pattern is to use the provided abstractions for native tool development. For complex parameter schemas, Pydantic models can be used for input validation.

    Tool registration is compositional: agents and toolkits can hold and manage multiple tools, and tools must be registered before initiating chats to ensure visibility for LLM function-calling.

</span><span class="hljs-attr">  examples:</span>
<span class="hljs-attr">    - title:</span> <span class="hljs-string">"Defining and Registering a Simple Custom Tool"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Create an addition tool and register it for LLM function-calling."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen.tools import tool
        from autogen import ConversableAgent

        @tool(name="add", description="Add two numbers together.")
        def add(a: int, b: int) -&gt; int:
            """Adds two integers and returns the result."""
            return a + b

        agent = ConversableAgent(
            name="calculator",
            system_message="You are a math assistant.",
            llm_config={...}
        )

        agent.register_for_llm()(add)  # Make tool available for LLM function calling

        # Now, when chatting with the agent, the LLM can propose using 'add'
</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Grouping Multiple Tools with a Toolkit"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Bundle related tools and register them collectively."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen.tools import tool, Toolkit

        @tool(name="multiply", description="Multiply two numbers.")
        def multiply(a: int, b: int) -&gt; int:
            return a * b

        @tool(name="subtract", description="Subtract two numbers.")
        def subtract(a: int, b: int) -&gt; int:
            return a - b

        math_toolkit = Toolkit([multiply, subtract])
        math_toolkit.register_for_llm(agent)  # Register all tools in the toolkit

</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Custom Tool with Complex Input Using Pydantic"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Define a tool that validates its input using a Pydantic model."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from pydantic import BaseModel
        from autogen.tools import tool

        class Employee(BaseModel):
</span><span class="hljs-attr">            name:</span> str
<span class="hljs-attr">            age:</span> int
<span class="hljs-attr">            department:</span> str

        @tool(name=<span class="hljs-string">"add_employee"</span>, description=<span class="hljs-string">"Add an employee record."</span>)
        def add_employee(employee: Employee) -&gt; str:
            <span class="hljs-comment"># Save employee to database (stub)</span>
            return f<span class="hljs-string">"Added employee: {employee.name}"</span>

        agent.register_for_llm()(add_employee)

<span class="hljs-attr">    - title:</span> <span class="hljs-string">"Registering a Tool for Direct Execution (By Agent)"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Allow an agent to execute a tool directly, not just propose via LLM."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        agent.register_for_execution()(add)  # Agent can execute 'add' directly in its logic

</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Converting External Tools (Interoperability)"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Convert a LangChain or CrewAI tool for use as an agent tool."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen.tools.interop import Interoperability

        # Assume langchain_tool is an instance of a LangChain tool
        ag2_tool = Interoperability.convert_tool(langchain_tool)
        agent.register_tool(ag2_tool)

</span><span class="hljs-attr">  best_practices:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Use the @tool decorator to define tools; avoid manual Tool construction for clarity and introspection."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Provide clear, concise descriptions and accurate type annotations for all tool parameters."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Register tools with agents before starting any chat; unregistered tools wonât be visible to LLMs."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Group related tools in a Toolkit for easier management and registration."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"For complex input validation, use Pydantic models as input parameters."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Avoid side effects or long-running operations in tools unless required; tools should be fast and reliable."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Keep tool logic independent and stateless when possible for composability and testability."</span>

<span class="hljs-attr">  related_concepts:</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"ConversableAgent and Agent Protocols"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Agents are the primary consumers of tools; tools must be registered with an agent for LLM function-calling or execution."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Toolkit"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Toolkits bundle multiple tools for collective management and registration with agents."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Tool Interoperability"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The interoperability layer allows you to convert tools from other ecosystems (LangChain, CrewAI, etc.) to be used as agent tools."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"LLMConfig"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Controls which LLM(s) your agent uses; some LLMs are better at function-calling and tool usage."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"GroupChat and Patterns"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"In group settings, tools can be shared among agents or used in orchestrated workflows."</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="custom-agents.html" class="navigation navigation-prev " aria-label="Previous page: Custom Agents">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="integrating-new-llm-providers.html" class="navigation navigation-next " aria-label="Next page: Integrating New LLM Providers">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Custom Tools","level":"1.5.2","depth":2,"next":{"title":"Integrating New LLM Providers","level":"1.5.3","depth":2,"path":"extending-and-customizing/integrating-new-llm-providers.md","ref":"extending-and-customizing/integrating-new-llm-providers.md","articles":[]},"previous":{"title":"Custom Agents","level":"1.5.1","depth":2,"path":"extending-and-customizing/custom-agents.md","ref":"extending-and-customizing/custom-agents.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false,"showSummary":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","author":"Your Name","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Documentation","language":"en","gitbook":"*"},"file":{"path":"extending-and-customizing/custom-tools.md","mtime":"2025-05-23T21:32:44.629Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-23T21:32:59.730Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

