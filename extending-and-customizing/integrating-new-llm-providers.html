
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Integrating New LLM Providers Â· Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Your Name">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../agent-patterns-and-workflows.html" />
    
    
    <link rel="prev" href="custom-tools.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/quick-start.html">
            
                <a href="../getting-started/quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core-concepts.html">
            
                <a href="../core-concepts.html">
            
                    
                    Core Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../core-concepts/architecture-overview.html">
            
                <a href="../core-concepts/architecture-overview.html">
            
                    
                    Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../core-concepts/agents-and-conversations.html">
            
                <a href="../core-concepts/agents-and-conversations.html">
            
                    
                    Agents and Conversations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../core-concepts/llm-configuration.html">
            
                <a href="../core-concepts/llm-configuration.html">
            
                    
                    LLM Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../core-concepts/tools-and-toolkit.html">
            
                <a href="../core-concepts/tools-and-toolkit.html">
            
                    
                    Tools and Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../core-concepts/function-utilities.html">
            
                <a href="../core-concepts/function-utilities.html">
            
                    
                    Function Utilities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced-topics.html">
            
                <a href="../advanced-topics.html">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced-topics/group-chat-patterns.html">
            
                <a href="../advanced-topics/group-chat-patterns.html">
            
                    
                    Group Chat Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced-topics/capabilities-and-composability.html">
            
                <a href="../advanced-topics/capabilities-and-composability.html">
            
                    
                    Capabilities and Composability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced-topics/retrieval-augmented-generation.html">
            
                <a href="../advanced-topics/retrieval-augmented-generation.html">
            
                    
                    Retrieval Augmented Generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced-topics/interoperability.html">
            
                <a href="../advanced-topics/interoperability.html">
            
                    
                    Interoperability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced-topics/code-execution.html">
            
                <a href="../advanced-topics/code-execution.html">
            
                    
                    Code Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../extending-and-customizing.html">
            
                <a href="../extending-and-customizing.html">
            
                    
                    Extending and Customizing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="custom-agents.html">
            
                <a href="custom-agents.html">
            
                    
                    Custom Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="custom-tools.html">
            
                <a href="custom-tools.html">
            
                    
                    Custom Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.3" data-path="integrating-new-llm-providers.html">
            
                <a href="integrating-new-llm-providers.html">
            
                    
                    Integrating New LLM Providers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../agent-patterns-and-workflows.html">
            
                <a href="../agent-patterns-and-workflows.html">
            
                    
                    Agent Patterns and Workflows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                <a href="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                    
                    Swarm and Nested Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../agent-patterns-and-workflows/realtime-agents.html">
            
                <a href="../agent-patterns-and-workflows/realtime-agents.html">
            
                    
                    Realtime Agents
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../testing-and-utilities.html">
            
                <a href="../testing-and-utilities.html">
            
                    
                    Testing and Utilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../testing-and-utilities/testing-patterns.html">
            
                <a href="../testing-and-utilities/testing-patterns.html">
            
                    
                    Testing Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../testing-and-utilities/utilities-and-helpers.html">
            
                <a href="../testing-and-utilities/utilities-and-helpers.html">
            
                    
                    Utilities and Helpers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Integrating New LLM Providers</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="integrating-new-llm-providers">Integrating New LLM Providers</h1>
<h2 id="quality-check">Quality Check</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">quality_check:</span>
<span class="hljs-attr">  score:</span> <span class="hljs-number">8</span>
<span class="hljs-attr">  issues:</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Accuracy"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The examples imply that simply registering a custom LLMConfigEntry and client is sufficient for agent integration, but do not specify how the framework discovers and uses the new client (e.g., agent expects a standard client interface, but there is no explicit registration of the client)."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Clarify how the agent is wired to use the custom SuperLLMClient. If a factory or registry is required, or if the config entry must specify the client, add this detail."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Completeness"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Authentication and error handling in the code samples are minimal; the sample client does not demonstrate robust error handling, timeouts, or retries."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add a brief note or code comment advising users to implement proper error handling and authentication management in real-world clients."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Clarity"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The relationship between LLMConfigEntry and the client is not clearly explained; a new user may be unclear if/when they need to subclass both or how the wiring works."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add a diagram or short section explaining how LLMConfigEntry and the provider client interact and how agents connect with them."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Code Example Quality"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"In the 'Provider-Specific Tool Calling' example, the code is incomplete ('# ... send API request and handle response') and does not show a working end-to-end example."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Either provide a more complete example or state explicitly that only the relevant snippet is shown, and reference the first example for full integration."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Best Practices"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"While best practices are listed, there is no explicit mention of versioning, backward compatibility, or how to handle breaking changes in provider APIs."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add a best practice bullet about considering API versioning and deprecation policies for custom providers."</span>
<span class="hljs-attr">  strengths:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Clear structure: Overview, explanation, examples, best practices, and related concepts are well organized and separated."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Code examples are practical and directly related to the integration tasks users will perform."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Best practices section is actionable and covers common pitfalls (compatibility, authentication, testing)."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Related concepts are succinctly described, guiding users to broader framework understanding."</span>
<span class="hljs-attr">  recommendations:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Clarify the mechanism by which agents discover and use the custom LLM client; add a note or example if a factory, registry, or interface adherence is required."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Improve code samples by including basic error handling and clarifying incomplete snippets to avoid confusion."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Enhance the explanation of how LLMConfigEntry and the client interact, potentially with a diagram or flow description."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Add a note in best practices about handling provider API changes and versioning."</span>
</code></pre>
<h2 id="content">Content</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">content:</span>
<span class="hljs-attr">  overview:</span> <span class="hljs-string">|
    Integrating new Large Language Model (LLM) providers allows you to extend the framework to support custom or third-party APIs beyond the built-in options (e.g., OpenAI, Azure, Gemini). By implementing provider-specific configuration and client logic, you enable agents and toolchains to interact with additional LLM backends in a unified, interoperable manner.

</span><span class="hljs-attr">  explanation:</span> <span class="hljs-string">|
    The framework uses standardized abstractionsâsuch as `LLMConfig`, `LLMConfigEntry`, and agent protocolsâto decouple agent logic from specific LLM providers. To add support for a new LLM or API backend:

    1. **Define a Provider-Specific LLMConfigEntry:**  
       Subclass `LLMConfigEntry` to represent your provider's model configuration (API endpoint, key, parameters, etc.). This ensures consistent validation and serialization.

    2. **Implement a Provider Client:**  
       Create a client class responsible for sending requests to your LLM provider, parsing responses, and handling errors. This client should conform to the expected interface (e.g., a `generate()` or `complete()` method).

    3. **Register with LLMConfig:**  
       Your new `LLMConfigEntry` should be registered within an `LLMConfig` object, allowing agents and group managers to select and use your backend seamlessly.

    4. **Integrate with Agents:**  
       Pass your custom config to agents (e.g., `ConversableAgent`) via their `llm_config` parameter. Agents and toolkits will then use your backend for all LLM calls.

    This design enables features like context management, filtering, and group orchestration to work with any compliant LLM provider, fostering extensibility and maintainability.

</span><span class="hljs-attr">  examples:</span>
<span class="hljs-attr">    - title:</span> <span class="hljs-string">"Basic Integration of a Custom LLM Provider"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">|
        This example shows how to add a new provider called `SuperLLM` by defining a config entry and a simple client.
</span><span class="hljs-attr">      code:</span> <span class="hljs-string">|
        # 1. Define the provider-specific config entry
        from autogen.llm_config import LLMConfigEntry

        class SuperLLMConfigEntry(LLMConfigEntry):
            def __init__(self, api_url: str, api_key: str, model: str, **kwargs):
                super().__init__(provider="superllm", model=model, **kwargs)
                self.api_url = api_url
                self.api_key = api_key

        # 2. Implement the provider client
        class SuperLLMClient:
            def __init__(self, config: SuperLLMConfigEntry):
                self.config = config
            def generate(self, prompt, **kwargs):
                import requests
                headers = {"Authorization": f"Bearer {self.config.api_key}"}
                data = {"model": self.config.model, "prompt": prompt}
                resp = requests.post(f"{self.config.api_url}/v1/generate", json=data, headers=headers)
                return resp.json()["result"]

        # 3. Register and use with an agent
        from autogen import ConversableAgent
        config_entry = SuperLLMConfigEntry(api_url="https://api.superllm.com", api_key="sk-xxx", model="super-1")
        llm_config = LLMConfig([config_entry])
        agent = ConversableAgent("super_agent", llm_config=llm_config)
        response = agent.receive("Hello, SuperLLM!")
</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Provider-Specific Tool Calling"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">|
        Demonstrates how to enable function/tool calling with a new LLM provider by ensuring your client supports the function-calling protocol.
</span><span class="hljs-attr">      code:</span> <span class="hljs-string">|
        class SuperLLMClient:
            def __init__(self, config):
                self.config = config
            def generate(self, prompt, tools=None, **kwargs):
                payload = {"prompt": prompt, "model": self.config.model}
                if tools:
                    payload["tools"] = [tool.to_openai_schema() for tool in tools]
                # ... send API request and handle response

        # Register tools as usual
        from autogen.tools import tool

        @tool(name="multiply", description="Multiply two numbers")
        def multiply(a: int, b: int) -&gt; int:
            return a * b

        agent.register_for_llm()(multiply)
</span><span class="hljs-attr">  best_practices:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Follow the LLMConfigEntry abstraction for all provider-specific settings to ensure compatibility."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Reuse existing client patterns (e.g., OpenAIClient) as templates for your custom client class."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Validate that your provider supports required features (e.g., streaming, function calling) before exposing them to agents."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Document authentication and environment variable requirements for users."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Test integration in both single-agent and group chat scenarios to catch edge cases."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Leverage LLMConfig context management to minimize config boilerplate and avoid state leakage."</span>
<span class="hljs-attr">  related_concepts:</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"LLMConfig and LLMConfigEntry"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"These abstractions standardize provider config and ensure agents can select between multiple backends."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"ConversableAgent and Agent Protocols"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Agents use the llm_config parameter to determine which LLM backend to use for message generation and tool calling."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Tool and Toolkit"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Tool registration works uniformly regardless of LLM provider, provided the client supports the function-calling protocol."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"GroupChat and Patterns"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Group orchestrations can utilize any LLM provider registered via LLMConfig, enabling flexible multi-agent setups."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Tool Interoperability"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Custom LLM providers can interoperate with tools from other ecosystems if tool schemas are respected."</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="custom-tools.html" class="navigation navigation-prev " aria-label="Previous page: Custom Tools">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../agent-patterns-and-workflows.html" class="navigation navigation-next " aria-label="Next page: Agent Patterns and Workflows">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Integrating New LLM Providers","level":"1.5.3","depth":2,"next":{"title":"Agent Patterns and Workflows","level":"1.6","depth":1,"path":"agent-patterns-and-workflows.md","ref":"agent-patterns-and-workflows.md","articles":[{"title":"Swarm and Nested Agents","level":"1.6.1","depth":2,"path":"agent-patterns-and-workflows/swarm-and-nested-agents.md","ref":"agent-patterns-and-workflows/swarm-and-nested-agents.md","articles":[]},{"title":"Realtime Agents","level":"1.6.2","depth":2,"path":"agent-patterns-and-workflows/realtime-agents.md","ref":"agent-patterns-and-workflows/realtime-agents.md","articles":[]}]},"previous":{"title":"Custom Tools","level":"1.5.2","depth":2,"path":"extending-and-customizing/custom-tools.md","ref":"extending-and-customizing/custom-tools.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false,"showSummary":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","author":"Your Name","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Documentation","language":"en","gitbook":"*"},"file":{"path":"extending-and-customizing/integrating-new-llm-providers.md","mtime":"2025-05-23T21:32:44.629Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-23T21:32:59.730Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

