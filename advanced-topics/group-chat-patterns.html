
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Group Chat Patterns Â· Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Your Name">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="capabilities-and-composability.html" />
    
    
    <link rel="prev" href="../advanced-topics.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/quick-start.html">
            
                <a href="../getting-started/quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core-concepts.html">
            
                <a href="../core-concepts.html">
            
                    
                    Core Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../core-concepts/architecture-overview.html">
            
                <a href="../core-concepts/architecture-overview.html">
            
                    
                    Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../core-concepts/agents-and-conversations.html">
            
                <a href="../core-concepts/agents-and-conversations.html">
            
                    
                    Agents and Conversations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../core-concepts/llm-configuration.html">
            
                <a href="../core-concepts/llm-configuration.html">
            
                    
                    LLM Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../core-concepts/tools-and-toolkit.html">
            
                <a href="../core-concepts/tools-and-toolkit.html">
            
                    
                    Tools and Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../core-concepts/function-utilities.html">
            
                <a href="../core-concepts/function-utilities.html">
            
                    
                    Function Utilities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced-topics.html">
            
                <a href="../advanced-topics.html">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1" data-path="group-chat-patterns.html">
            
                <a href="group-chat-patterns.html">
            
                    
                    Group Chat Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="capabilities-and-composability.html">
            
                <a href="capabilities-and-composability.html">
            
                    
                    Capabilities and Composability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="retrieval-augmented-generation.html">
            
                <a href="retrieval-augmented-generation.html">
            
                    
                    Retrieval Augmented Generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="interoperability.html">
            
                <a href="interoperability.html">
            
                    
                    Interoperability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="code-execution.html">
            
                <a href="code-execution.html">
            
                    
                    Code Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../extending-and-customizing.html">
            
                <a href="../extending-and-customizing.html">
            
                    
                    Extending and Customizing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../extending-and-customizing/custom-agents.html">
            
                <a href="../extending-and-customizing/custom-agents.html">
            
                    
                    Custom Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../extending-and-customizing/custom-tools.html">
            
                <a href="../extending-and-customizing/custom-tools.html">
            
                    
                    Custom Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../extending-and-customizing/integrating-new-llm-providers.html">
            
                <a href="../extending-and-customizing/integrating-new-llm-providers.html">
            
                    
                    Integrating New LLM Providers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../agent-patterns-and-workflows.html">
            
                <a href="../agent-patterns-and-workflows.html">
            
                    
                    Agent Patterns and Workflows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                <a href="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                    
                    Swarm and Nested Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../agent-patterns-and-workflows/realtime-agents.html">
            
                <a href="../agent-patterns-and-workflows/realtime-agents.html">
            
                    
                    Realtime Agents
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../testing-and-utilities.html">
            
                <a href="../testing-and-utilities.html">
            
                    
                    Testing and Utilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../testing-and-utilities/testing-patterns.html">
            
                <a href="../testing-and-utilities/testing-patterns.html">
            
                    
                    Testing Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../testing-and-utilities/utilities-and-helpers.html">
            
                <a href="../testing-and-utilities/utilities-and-helpers.html">
            
                    
                    Utilities and Helpers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Group Chat Patterns</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="group-chat-patterns">Group Chat Patterns</h1>
<h2 id="quality-check">Quality Check</h2>
<p>quality_check:
  score: 8
  issues:</p>
<pre><code>- type: "Minor Technical Ambiguity"
  description: "'ConversableAgent and Agent Protocols' are referred to as the backbone of all agent communication, but it is not explicitly clear whether both are concrete classes or if 'Agent Protocols' is a conceptual interface."
  severity: "low"
  suggestion: "Clarify the distinction between ConversableAgent (likely a class) and Agent Protocols (an interface or protocol)."
- type: "Incomplete Code Example Context"
  description: "In the second and third code examples, variable dependencies such as 'assistant', 'expert', and 'agents' are referenced but not always defined in the code snippet, which may confuse readers."
  severity: "medium"
  suggestion: "Add import statements or initialization code to make each example independently runnable or explicitly state dependencies."
- type: "Best Practices Generality"
  description: "Best practices are solid but somewhat generic; some could be expanded with concrete group chat scenarios or pitfalls specific to multi-agent orchestration."
  severity: "low"
  suggestion: "Provide example-driven or scenario-based best practices, such as handling deadlocks or conflicting agent responses."
- type: "Limited Edge Case Coverage"
  description: "The documentation does not mention or warn about potential edge cases (e.g., what happens if all agents decline to respond, or cyclical handoffs)."
  severity: "medium"
  suggestion: "Include a subsection or note on common edge cases and how to handle them."
- type: "Lack of References to Error Handling"
  description: "No information is provided about how errors during orchestration (such as agent failures or exceptions in transition conditions) are managed."
  severity: "medium"
  suggestion: "Add a short paragraph or example on error handling strategies for group chat workflows."
</code></pre><p>  strengths:</p>
<pre><code>- "Clear and concise explanation of core concepts and abstractions."
- "Practical, well-structured code examples illustrating key usage patterns."
- "Good emphasis on extensibility and customization for advanced workflows."
- "Comprehensive overview of related concepts and integration points."
</code></pre><p>  recommendations:</p>
<pre><code>- "Ensure all code examples are self-contained or list prerequisite variable definitions for clarity."
- "Expand best practices to include more specific recommendations for group chat orchestration (e.g., error handling, edge case management, agent prioritization)."
- "Clarify technical distinctions between core abstractions (e.g., protocols vs. classes) to avoid confusion."
- "Add a troubleshooting or FAQ section addressing common pitfalls and failure modes in group chat patterns."
</code></pre><h2 id="content">Content</h2>
<p>content:
  overview: |
    Group Chat Patterns provide structured approaches for orchestrating multi-agent conversations, enabling agents to interact, collaborate, and coordinate tasks in group settings. These patterns abstract away the complexities of speaker selection, message routing, handoffs, and conversational flow management, making it easier to build robust multi-agent workflows.</p>
<p>  explanation: |
    In multi-agent systems, orchestrating group conversations is non-trivial. Effective group chat requires managing which agent speaks next, how information is passed, and when control transitions between agents. Group Chat Patterns encapsulate these orchestration strategies, allowing developers to focus on high-level workflows rather than low-level agent control.</p>
<pre><code>The core abstractions include:

- **ConversableAgent and Agent Protocols**: These form the backbone for all agent communication. Agents can send and receive messages, register tools, and maintain chat history. In group settings, each agent participates as a member of the group chat.
- **GroupChat**: Represents the state and membership of the group conversation, including a list of agents, the message history, and parameters such as the maximum number of rounds.
- **GroupChatManager**: Acts as the conductor, managing the flow of the conversation, speaker selection, and the application of orchestration patterns.
- **Patterns**: Reusable strategies that dictate how agents take turns, how transitions are handled, and how handoffs occur. Examples include round-robin, LLM-based selection (AutoPattern), manual, and random.
- **Transitions and Handoffs**: Mechanisms for context-sensitive agent switching, allowing for dynamic, condition-based control transfer.

By leveraging these abstractions and patterns, developers can implement complex collaborative behaviors (e.g., brainstorming, debate, workflow handoffs) with minimal boilerplate and maximum flexibility. The provided patterns are extensible, and custom strategies can be implemented for specialized needs.
</code></pre><p>  examples:</p>
<pre><code>- title: "Setting up a basic group chat with automatic speaker selection"
  description: "Create two agents and orchestrate a conversation using the AutoPattern, which leverages LLM-based logic for speaker selection."
  code: |
    from autogen import ConversableAgent
    from autogen.agentchat.group.patterns.auto import AutoPattern

    # Create agents
    assistant = ConversableAgent(
        name="assistant",
        system_message="You are a helpful assistant."
    )
    expert = ConversableAgent(
        name="expert",
        system_message="You are a domain expert."
    )

    # Set up the group chat pattern
    agents = [assistant, expert]
    pattern = AutoPattern(initial_agent=assistant, agents=agents)

    # Prepare the group chat and manager
    groupchat, manager = pattern.prepare_group_chat(
        max_rounds=5,
        messages=[{"content": "Let's solve the problem together."}]
    )

    # Start the conversation
    assistant.initiate_chat(manager, message="What are your thoughts?")
- title: "Custom speaker selection logic"
  description: "Define a custom function for selecting the next speaker in the group."
  code: |
    def round_robin_selector(last_speaker, groupchat):
        # Simple round-robin: pick the next agent in the list
        idx = groupchat.agents.index(last_speaker)
        return groupchat.agents[(idx + 1) % len(groupchat.agents)]

    from autogen.agentchat.group.patterns.auto import AutoPattern

    pattern = AutoPattern(
        initial_agent=assistant,
        agents=agents,
        group_manager_args={"speaker_selection_method": round_robin_selector}
    )
    groupchat, manager = pattern.prepare_group_chat(max_rounds=3)
- title: "Condition-based handoff using OnCondition"
  description: "Use OnCondition to trigger agent transitions based on message content."
  code: |
    from autogen.agentchat.group.transition import OnCondition, TransitionTarget

    # Define a transition: If a message contains 'expert', switch to expert agent
    on_expert_condition = OnCondition(
        condition=lambda msg, ctx: 'expert' in msg['content'].lower(),
        target=TransitionTarget(agent=expert)
    )

    # Pass this transition to the group pattern or manager as needed
</code></pre><p>  best_practices:</p>
<pre><code>- "Use predefined patterns (Auto, RoundRobin, etc.) to encapsulate orchestration logic and avoid manual agent selection."
- "Assign unique, descriptive names to all agents to simplify debugging and log tracing."
- "Carefully manage chat history in group settings to prevent memory bloat and ensure relevant context."
- "Validate agent and transition configurations to avoid runtime errors (e.g., duplicate names, unreachable agents)."
- "Leverage condition-based transitions (OnCondition, OnContextCondition) for flexible, context-aware workflows."
- "Test group chat flows with logging enabled to diagnose complex handoff and orchestration issues."
</code></pre><p>  related_concepts:</p>
<pre><code>- name: "ConversableAgent and Agent Protocols"
  description: "Define the standard communication interface for agents, used as the basis for group chat participants."
- name: "Tool and Toolkit"
  description: "Agents in group chats often collaborate by invoking tools; registering tools before chat initiation ensures visibility and interoperability."
- name: "LLMConfig and LLMConfigEntry"
  description: "Standardize LLM configuration across agents in a group, preventing provider mismatch and supporting context management."
- name: "Transitions and Handoffs"
  description: "Allow dynamic, rule-based switching of control between agents, critical for sophisticated workflow modeling in group chats."
- name: "Tool Interoperability"
  description: "Enables agents to share and use tools from different ecosystems, expanding collaborative capabilities in group settings."
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../advanced-topics.html" class="navigation navigation-prev " aria-label="Previous page: Advanced Topics">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="capabilities-and-composability.html" class="navigation navigation-next " aria-label="Next page: Capabilities and Composability">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Group Chat Patterns","level":"1.4.1","depth":2,"next":{"title":"Capabilities and Composability","level":"1.4.2","depth":2,"path":"advanced-topics/capabilities-and-composability.md","ref":"advanced-topics/capabilities-and-composability.md","articles":[]},"previous":{"title":"Advanced Topics","level":"1.4","depth":1,"path":"advanced-topics.md","ref":"advanced-topics.md","articles":[{"title":"Group Chat Patterns","level":"1.4.1","depth":2,"path":"advanced-topics/group-chat-patterns.md","ref":"advanced-topics/group-chat-patterns.md","articles":[]},{"title":"Capabilities and Composability","level":"1.4.2","depth":2,"path":"advanced-topics/capabilities-and-composability.md","ref":"advanced-topics/capabilities-and-composability.md","articles":[]},{"title":"Retrieval Augmented Generation","level":"1.4.3","depth":2,"path":"advanced-topics/retrieval-augmented-generation.md","ref":"advanced-topics/retrieval-augmented-generation.md","articles":[]},{"title":"Interoperability","level":"1.4.4","depth":2,"path":"advanced-topics/interoperability.md","ref":"advanced-topics/interoperability.md","articles":[]},{"title":"Code Execution","level":"1.4.5","depth":2,"path":"advanced-topics/code-execution.md","ref":"advanced-topics/code-execution.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false,"showSummary":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","author":"Your Name","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Documentation","language":"en","gitbook":"*"},"file":{"path":"advanced-topics/group-chat-patterns.md","mtime":"2025-05-23T21:32:44.627Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-23T21:32:59.730Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

