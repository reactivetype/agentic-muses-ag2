
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>ToolsCapability composition Â· Agentic Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        <meta name="author" content="AutoGen Team">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="transformmessages-and-message-transforms.html" />
    
    
    <link rel="prev" href="teachability-and-memory.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../foundations-of-agents-and-messages/">
            
                <a href="../foundations-of-agents-and-messages/">
            
                    
                    Foundations of Agents and Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../foundations-of-agents-and-messages/agent-protocol.html">
            
                <a href="../foundations-of-agents-and-messages/agent-protocol.html">
            
                    
                    Agent protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../foundations-of-agents-and-messages/llmagent.html">
            
                <a href="../foundations-of-agents-and-messages/llmagent.html">
            
                    
                    LLMAgent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../foundations-of-agents-and-messages/conversableagent.html">
            
                <a href="../foundations-of-agents-and-messages/conversableagent.html">
            
                    
                    ConversableAgent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../foundations-of-agents-and-messages/basemessage-and-message-serialization.html">
            
                <a href="../foundations-of-agents-and-messages/basemessage-and-message-serialization.html">
            
                    
                    BaseMessage and message serialization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../conversable-agent-workflow/">
            
                <a href="../conversable-agent-workflow/">
            
                    
                    Conversable Agent Workflow
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../conversable-agent-workflow/reply-function-registration.html">
            
                <a href="../conversable-agent-workflow/reply-function-registration.html">
            
                    
                    Reply function registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../conversable-agent-workflow/chat-message-flow.html">
            
                <a href="../conversable-agent-workflow/chat-message-flow.html">
            
                    
                    Chat message flow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../conversable-agent-workflow/human-input-modes.html">
            
                <a href="../conversable-agent-workflow/human-input-modes.html">
            
                    
                    Human input modes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../tools-and-dependency-injection/">
            
                <a href="../tools-and-dependency-injection/">
            
                    
                    Tools and Dependency Injection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../tools-and-dependency-injection/tool-abstraction.html">
            
                <a href="../tools-and-dependency-injection/tool-abstraction.html">
            
                    
                    Tool abstraction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../tools-and-dependency-injection/toolkit.html">
            
                <a href="../tools-and-dependency-injection/toolkit.html">
            
                    
                    Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../tools-and-dependency-injection/dependency-injection-with-depends.html">
            
                <a href="../tools-and-dependency-injection/dependency-injection-with-depends.html">
            
                    
                    Dependency injection with Depends
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../tools-and-dependency-injection/context-parameter-injection.html">
            
                <a href="../tools-and-dependency-injection/context-parameter-injection.html">
            
                    
                    Context parameter injection
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../llm-configuration-and-model-clients/">
            
                <a href="../llm-configuration-and-model-clients/">
            
                    
                    LLM Configuration and Model Clients
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../llm-configuration-and-model-clients/llmconfig-and-llmconfigentry.html">
            
                <a href="../llm-configuration-and-model-clients/llmconfig-and-llmconfigentry.html">
            
                    
                    LLMConfig and LLMConfigEntry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../llm-configuration-and-model-clients/modelclient-protocol.html">
            
                <a href="../llm-configuration-and-model-clients/modelclient-protocol.html">
            
                    
                    ModelClient protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../llm-configuration-and-model-clients/config-list-and-filtering.html">
            
                <a href="../llm-configuration-and-model-clients/config-list-and-filtering.html">
            
                    
                    Config list and filtering
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../advanced-agent-orchestration/">
            
                <a href="../advanced-agent-orchestration/">
            
                    
                    Advanced Agent Orchestration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../advanced-agent-orchestration/groupchat-and-groupchatmanager.html">
            
                <a href="../advanced-agent-orchestration/groupchat-and-groupchatmanager.html">
            
                    
                    GroupChat and GroupChatManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../advanced-agent-orchestration/patterns-for-orchestration-(auto,-manual,-roundrobin,-random">
            
                <span>
            
                    
                    Patterns for orchestration (Auto, Manual, RoundRobin, Random)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../advanced-agent-orchestration/speaker-selection-methods.html">
            
                <a href="../advanced-agent-orchestration/speaker-selection-methods.html">
            
                    
                    Speaker selection methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../advanced-agent-orchestration/transitiontarget-and-handoff-conditions.html">
            
                <a href="../advanced-agent-orchestration/transitiontarget-and-handoff-conditions.html">
            
                    
                    TransitionTarget and handoff conditions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../context-variables-and-conditional-logic/">
            
                <a href="../context-variables-and-conditional-logic/">
            
                    
                    Context Variables and Conditional Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../context-variables-and-conditional-logic/contextvariables.html">
            
                <a href="../context-variables-and-conditional-logic/contextvariables.html">
            
                    
                    ContextVariables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../context-variables-and-conditional-logic/contextcondition-and-availablecondition.html">
            
                <a href="../context-variables-and-conditional-logic/contextcondition-and-availablecondition.html">
            
                    
                    ContextCondition and AvailableCondition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../context-variables-and-conditional-logic/oncondition-and-oncontextcondition.html">
            
                <a href="../context-variables-and-conditional-logic/oncondition-and-oncontextcondition.html">
            
                    
                    OnCondition and OnContextCondition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../context-variables-and-conditional-logic/contextexpression.html">
            
                <a href="../context-variables-and-conditional-logic/contextexpression.html">
            
                    
                    ContextExpression
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../tool-and-function-interoperability/">
            
                <a href="../tool-and-function-interoperability/">
            
                    
                    Tool and Function Interoperability
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../tool-and-function-interoperability/interoperable-protocol.html">
            
                <a href="../tool-and-function-interoperability/interoperable-protocol.html">
            
                    
                    Interoperable protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../tool-and-function-interoperability/interoperability-registry.html">
            
                <a href="../tool-and-function-interoperability/interoperability-registry.html">
            
                    
                    Interoperability registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../tool-and-function-interoperability/langchain-and-crewai-tool-conversion.html">
            
                <a href="../tool-and-function-interoperability/langchain-and-crewai-tool-conversion.html">
            
                    
                    LangChain and CrewAI tool conversion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../tool-and-function-interoperability/pydantic-ai-tool-integration.html">
            
                <a href="../tool-and-function-interoperability/pydantic-ai-tool-integration.html">
            
                    
                    Pydantic AI tool integration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../retrieval-augmented-generation-and-vector-databases/">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/">
            
                    
                    Retrieval Augmented Generation and Vector Databases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../retrieval-augmented-generation-and-vector-databases/retrieveuserproxyagent.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/retrieveuserproxyagent.html">
            
                    
                    RetrieveUserProxyAgent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../retrieval-augmented-generation-and-vector-databases/vectordb-protocol.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/vectordb-protocol.html">
            
                    
                    VectorDB protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../retrieval-augmented-generation-and-vector-databases/chromadb-pgvector-qdrant-mongodb-integrations.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/chromadb-pgvector-qdrant-mongodb-integrations.html">
            
                    
                    ChromaDB PGVector Qdrant MongoDB integrations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../retrieval-augmented-generation-and-vector-databases/querying-and-chunking-strategies.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/querying-and-chunking-strategies.html">
            
                    
                    Querying and chunking strategies
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../structured-outputs-and-tool-calling-with-llms/">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/">
            
                    
                    Structured Outputs and Tool Calling with LLMs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../structured-outputs-and-tool-calling-with-llms/function-and-tool-schemas.html">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/function-and-tool-schemas.html">
            
                    
                    Function and Tool schemas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../structured-outputs-and-tool-calling-with-llms/structured-output-formatting.html">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/structured-output-formatting.html">
            
                    
                    Structured output formatting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../structured-outputs-and-tool-calling-with-llms/tool-call-and-function-call-message-handling.html">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/tool-call-and-function-call-message-handling.html">
            
                    
                    Tool call and function call message handling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../multimodal-and-vision-capabilities/">
            
                <a href="../multimodal-and-vision-capabilities/">
            
                    
                    Multimodal and Vision Capabilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../multimodal-and-vision-capabilities/multimodalconversableagent.html">
            
                <a href="../multimodal-and-vision-capabilities/multimodalconversableagent.html">
            
                    
                    MultimodalConversableAgent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../multimodal-and-vision-capabilities/visioncapability.html">
            
                <a href="../multimodal-and-vision-capabilities/visioncapability.html">
            
                    
                    VisionCapability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../multimodal-and-vision-capabilities/image-generation-and-captioning-tools.html">
            
                <a href="../multimodal-and-vision-capabilities/image-generation-and-captioning-tools.html">
            
                    
                    Image generation and captioning tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../multimodal-and-vision-capabilities/content-formatting-for-images.html">
            
                <a href="../multimodal-and-vision-capabilities/content-formatting-for-images.html">
            
                    
                    Content formatting for images
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="./">
            
                <a href="./">
            
                    
                    Agent Capabilities and Composability
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="agentcapability-base-class.html">
            
                <a href="agentcapability-base-class.html">
            
                    
                    AgentCapability base class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="teachability-and-memory.html">
            
                <a href="teachability-and-memory.html">
            
                    
                    Teachability and memory
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12.3" data-path="toolscapability-composition.html">
            
                <a href="toolscapability-composition.html">
            
                    
                    ToolsCapability composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="transformmessages-and-message-transforms.html">
            
                <a href="transformmessages-and-message-transforms.html">
            
                    
                    TransformMessages and message transforms
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../group-and-swarm-agent-patterns/">
            
                <a href="../group-and-swarm-agent-patterns/">
            
                    
                    Group and Swarm Agent Patterns
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../group-and-swarm-agent-patterns/swarmagent-and-afterwork.html">
            
                <a href="../group-and-swarm-agent-patterns/swarmagent-and-afterwork.html">
            
                    
                    SwarmAgent and AfterWork
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../group-and-swarm-agent-patterns/oncondition-and-nested-chat-transitions.html">
            
                <a href="../group-and-swarm-agent-patterns/oncondition-and-nested-chat-transitions.html">
            
                    
                    OnCondition and nested chat transitions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../group-and-swarm-agent-patterns/pattern-classes-for-orchestration.html">
            
                <a href="../group-and-swarm-agent-patterns/pattern-classes-for-orchestration.html">
            
                    
                    Pattern classes for orchestration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../practical-pitfalls-and-best-practices/">
            
                <a href="../practical-pitfalls-and-best-practices/">
            
                    
                    Practical Pitfalls and Best Practices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../practical-pitfalls-and-best-practices/error-handling-in-agent-orchestration.html">
            
                <a href="../practical-pitfalls-and-best-practices/error-handling-in-agent-orchestration.html">
            
                    
                    Error handling in agent orchestration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../practical-pitfalls-and-best-practices/security-considerations-for-code-execution.html">
            
                <a href="../practical-pitfalls-and-best-practices/security-considerations-for-code-execution.html">
            
                    
                    Security considerations for code execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../practical-pitfalls-and-best-practices/testing-and-logging-strategies.html">
            
                <a href="../practical-pitfalls-and-best-practices/testing-and-logging-strategies.html">
            
                    
                    Testing and logging strategies
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >ToolsCapability composition</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="toolscapability-composition">ToolsCapability composition</h1>
<h2 id="overview">Overview</h2>
<p><strong>ToolsCapability composition</strong> refers to the design and integration of multiple agent capabilitiesâsuch as tool usage, multimodal perception, memory, and context handlingâinto a single, cohesive agent. This approach allows agents to perform complex tasks by orchestrating different skill sets (or "capabilities"), such as responding to text and vision inputs, utilizing external tools, managing context, and learning from interactions. Composability enables modular, extensible agent architectures that can adapt to diverse use cases and workflows.</p>
<hr></hr>
<h2 id="explanation">Explanation</h2>
<p>Modern AI agents often require more than a single capability to function effectively. For instance, an agent may need to:</p>
<ul>
<li>Interpret images (vision capability)</li>
<li>Answer questions using external APIs or tools (tool capability)</li>
<li>Remember past interactions (memory/vector memory)</li>
<li>Adapt responses based on context variables or conditions</li>
</ul>
<p><strong>ToolsCapability composition</strong> is the process of combining these capabilities into a unified agent. This is typically achieved through:</p>
<ol>
<li><strong>Capability Modules</strong>: Individual features (e.g., vision, tools, memory) are implemented as modular components.</li>
<li><strong>Composability Layer</strong>: A mechanism to orchestrate and route requests between capabilities, ensuring they interact coherently.</li>
<li><strong>Context Management</strong>: Using context variables and message transforms to maintain state and pass relevant information between modules.</li>
<li><strong>Teachability</strong>: Integrating vector memory or embeddings to allow agents to "learn" from new information and adapt over time.</li>
</ol>
<h3 id="example-use-cases">Example Use Cases</h3>
<ul>
<li>An agent that can answer questions about images by first interpreting the image (vision), then using a search tool (tool), and referencing past answers (memory).</li>
<li>Workflow agents that can conditionally invoke different tools or APIs based on user intent, with context-aware responses.</li>
</ul>
<hr></hr>
<h2 id="examples">Examples</h2>
<h3 id="1-composing-capabilities-in-code">1. Composing Capabilities in Code</h3>
<p>Suppose we use a Python-based agent framework supporting capability composition:</p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> agent_framework <span class="hljs-keyword">import</span> Agent, ToolsCapability, VisionCapability, VectorMemoryCapability, ContextManager

<span class="hljs-comment"># Define individual capabilities</span>
tools = ToolsCapability(tool_list=[calculator_tool, web_search_tool])
vision = VisionCapability()
memory = VectorMemoryCapability()
context = ContextManager()

<span class="hljs-comment"># Compose the agent</span>
agent = Agent(
    capabilities=[tools, vision, memory],
    context_manager=context
)
</code></pre>
<h3 id="2-implementing-teachability-with-vector-memory">2. Implementing Teachability with Vector Memory</h3>
<pre><code class="lang-python"><span class="hljs-comment"># Teach the agent new knowledge</span>
agent.memory.store(<span class="hljs-string">"What is the capital of France?"</span>, <span class="hljs-string">"Paris"</span>)

<span class="hljs-comment"># Later, the agent can recall this information</span>
response = agent.respond(<span class="hljs-string">"What's the capital of France?"</span>)
<span class="hljs-built_in">print</span>(response)  <span class="hljs-comment"># Output: "Paris"</span>
</code></pre>
<h3 id="3-applying-message-transforms-for-context-management">3. Applying Message Transforms for Context Management</h3>
<pre><code class="lang-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_user_context</span>(<span class="hljs-params">message, context_vars</span>):
    <span class="hljs-comment"># Example transform: add user's preferred language</span>
    message[<span class="hljs-string">'language'</span>] = context_vars.get(<span class="hljs-string">'preferred_language'</span>, <span class="hljs-string">'en'</span>)
    <span class="hljs-keyword">return</span> message

agent.context_manager.add_transform(add_user_context)
</code></pre>
<h3 id="4-conditional-logic-to-route-requests">4. Conditional Logic to Route Requests</h3>
<pre><code class="lang-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">route_request</span>(<span class="hljs-params">request</span>):
    <span class="hljs-keyword">if</span> request.<span class="hljs-built_in">type</span> == <span class="hljs-string">"image"</span>:
        <span class="hljs-keyword">return</span> agent.vision.process(request)
    <span class="hljs-keyword">elif</span> request.<span class="hljs-built_in">type</span> == <span class="hljs-string">"calculation"</span>:
        <span class="hljs-keyword">return</span> agent.tools.use(<span class="hljs-string">'calculator'</span>, request)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> agent.memory.retrieve(request)

agent.route = route_request
</code></pre>
<hr></hr>
<h2 id="best-practices">Best Practices</h2>
<ul>
<li><strong>Modularize Capabilities</strong>: Implement each capability as an independent, reusable module.</li>
<li><strong>Clear Interfaces</strong>: Define clear input/output interfaces for each capability to facilitate integration.</li>
<li><strong>Context Awareness</strong>: Use context variables and message transforms to manage state and personalize agent behavior.</li>
<li><strong>Teachability</strong>: Integrate vector memory to enable agents to learn and adapt dynamically.</li>
<li><strong>Graceful Fallbacks</strong>: Ensure the agent can handle failures or missing capabilities gracefully.</li>
<li><strong>Security &amp; Privacy</strong>: Carefully manage sensitive data when composing capabilities, especially with memory modules.</li>
</ul>
<p><strong>Common Pitfalls:</strong></p>
<ul>
<li><strong>Capability Overlap</strong>: Avoid duplicating functionality across capabilities.</li>
<li><strong>Context Leakage</strong>: Prevent unintended sharing of sensitive context between capabilities.</li>
<li><strong>Complex Routing Logic</strong>: Keep routing and conditional logic maintainable and testable.</li>
</ul>
<hr></hr>
<h2 id="related-concepts">Related Concepts</h2>
<ul>
<li><a href="multimodal-vision-capabilities.md">Multimodal and Vision Capabilities</a></li>
<li><a href="context-variables-conditional-logic.md">Context Variables and Conditional Logic</a></li>
<li><a href="vector-memory-teachability.md">Vector Memory and Teachability</a></li>
<li><a href="message-transforms-middleware.md">Message Transforms and Middleware</a></li>
<li><a href="agent-orchestration-patterns.md">Agent Orchestration Patterns</a></li>
<li><a href="https://arxiv.org/abs/2302.04761" target="_blank">Tool Use in Large Language Models</a></li>
</ul>
<p>For further reading, see:</p>
<ul>
<li><a href="https://docs.langchain.com/docs/concepts/composability" target="_blank">Composable Agents: A Modular Approach</a></li>
<li><a href="https://docs.langchain.com/docs/modules/memory" target="_blank">Memory in Conversational Agents</a></li>
<li><a href="https://platform.openai.com/docs/guides/function-calling" target="_blank">OpenAI Function Calling</a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="teachability-and-memory.html" class="navigation navigation-prev " aria-label="Previous page: Teachability and memory">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="transformmessages-and-message-transforms.html" class="navigation navigation-next " aria-label="Next page: TransformMessages and message transforms">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"ToolsCapability composition","level":"1.12.3","depth":2,"next":{"title":"TransformMessages and message transforms","level":"1.12.4","depth":2,"path":"chapters/agent-capabilities-and-composability/transformmessages-and-message-transforms.md","ref":"chapters/agent-capabilities-and-composability/transformmessages-and-message-transforms.md","articles":[]},"previous":{"title":"Teachability and memory","level":"1.12.2","depth":2,"path":"chapters/agent-capabilities-and-composability/teachability-and-memory.md","ref":"chapters/agent-capabilities-and-composability/teachability-and-memory.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"AutoGen Team","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Agentic Documentation","language":"en","gitbook":"*"},"file":{"path":"chapters/agent-capabilities-and-composability/toolscapability-composition.md","mtime":"2025-05-24T01:52:24.916Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-24T01:52:41.608Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

