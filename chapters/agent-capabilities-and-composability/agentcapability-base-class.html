
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>AgentCapability Base Class Â· Agentic Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        <meta name="author" content="AutoGen Team">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="teachability-and-memory.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../foundations-of-agents-and-messages/">
            
                <a href="../foundations-of-agents-and-messages/">
            
                    
                    Foundations of Agents and Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../foundations-of-agents-and-messages/agent-protocol.html">
            
                <a href="../foundations-of-agents-and-messages/agent-protocol.html">
            
                    
                    Agent Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../foundations-of-agents-and-messages/llmagent.html">
            
                <a href="../foundations-of-agents-and-messages/llmagent.html">
            
                    
                    LLM Agent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../foundations-of-agents-and-messages/conversableagent.html">
            
                <a href="../foundations-of-agents-and-messages/conversableagent.html">
            
                    
                    Conversable Agent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../foundations-of-agents-and-messages/basemessage-and-message-serialization.html">
            
                <a href="../foundations-of-agents-and-messages/basemessage-and-message-serialization.html">
            
                    
                    BaseMessage and Message Serialization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../conversable-agent-workflow/">
            
                <a href="../conversable-agent-workflow/">
            
                    
                    Conversable Agent Workflow
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../conversable-agent-workflow/reply-function-registration.html">
            
                <a href="../conversable-agent-workflow/reply-function-registration.html">
            
                    
                    Reply Function Registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../conversable-agent-workflow/chat-message-flow.html">
            
                <a href="../conversable-agent-workflow/chat-message-flow.html">
            
                    
                    Chat Message Flow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../conversable-agent-workflow/human-input-modes.html">
            
                <a href="../conversable-agent-workflow/human-input-modes.html">
            
                    
                    Human Input Modes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../tools-and-dependency-injection/">
            
                <a href="../tools-and-dependency-injection/">
            
                    
                    Tools and Dependency Injection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../tools-and-dependency-injection/tool-abstraction.html">
            
                <a href="../tools-and-dependency-injection/tool-abstraction.html">
            
                    
                    Tool Abstraction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../tools-and-dependency-injection/toolkit.html">
            
                <a href="../tools-and-dependency-injection/toolkit.html">
            
                    
                    Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../tools-and-dependency-injection/dependency-injection-with-depends.html">
            
                <a href="../tools-and-dependency-injection/dependency-injection-with-depends.html">
            
                    
                    Dependency Injection with Depends
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../tools-and-dependency-injection/context-parameter-injection.html">
            
                <a href="../tools-and-dependency-injection/context-parameter-injection.html">
            
                    
                    Context Parameter Injection
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../llm-configuration-and-model-clients/">
            
                <a href="../llm-configuration-and-model-clients/">
            
                    
                    LLM Configuration and Model Clients
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../llm-configuration-and-model-clients/llmconfig-and-llmconfigentry.html">
            
                <a href="../llm-configuration-and-model-clients/llmconfig-and-llmconfigentry.html">
            
                    
                    LLMConfig and LLMConfigEntry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../llm-configuration-and-model-clients/modelclient-protocol.html">
            
                <a href="../llm-configuration-and-model-clients/modelclient-protocol.html">
            
                    
                    ModelClient Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../llm-configuration-and-model-clients/config-list-and-filtering.html">
            
                <a href="../llm-configuration-and-model-clients/config-list-and-filtering.html">
            
                    
                    Config List and Filtering
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../advanced-agent-orchestration/">
            
                <a href="../advanced-agent-orchestration/">
            
                    
                    Advanced Agent Orchestration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../advanced-agent-orchestration/groupchat-and-groupchatmanager.html">
            
                <a href="../advanced-agent-orchestration/groupchat-and-groupchatmanager.html">
            
                    
                    GroupChat and GroupChatManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../advanced-agent-orchestration/patterns-for-orchestration-(auto,-manual,-roundrobin,-random">
            
                <span>
            
                    
                    Patterns for Orchestration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../advanced-agent-orchestration/speaker-selection-methods.html">
            
                <a href="../advanced-agent-orchestration/speaker-selection-methods.html">
            
                    
                    Speaker Selection Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../advanced-agent-orchestration/transitiontarget-and-handoff-conditions.html">
            
                <a href="../advanced-agent-orchestration/transitiontarget-and-handoff-conditions.html">
            
                    
                    TransitionTarget and Handoff Conditions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../context-variables-and-conditional-logic/">
            
                <a href="../context-variables-and-conditional-logic/">
            
                    
                    Context Variables and Conditional Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../context-variables-and-conditional-logic/contextvariables.html">
            
                <a href="../context-variables-and-conditional-logic/contextvariables.html">
            
                    
                    Context Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../context-variables-and-conditional-logic/contextcondition-and-availablecondition.html">
            
                <a href="../context-variables-and-conditional-logic/contextcondition-and-availablecondition.html">
            
                    
                    ContextCondition and AvailableCondition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../context-variables-and-conditional-logic/oncondition-and-oncontextcondition.html">
            
                <a href="../context-variables-and-conditional-logic/oncondition-and-oncontextcondition.html">
            
                    
                    OnCondition and OnContextCondition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../context-variables-and-conditional-logic/contextexpression.html">
            
                <a href="../context-variables-and-conditional-logic/contextexpression.html">
            
                    
                    Context Expression
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../tool-and-function-interoperability/">
            
                <a href="../tool-and-function-interoperability/">
            
                    
                    Tool and Function Interoperability
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../tool-and-function-interoperability/interoperable-protocol.html">
            
                <a href="../tool-and-function-interoperability/interoperable-protocol.html">
            
                    
                    Interoperable Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../tool-and-function-interoperability/interoperability-registry.html">
            
                <a href="../tool-and-function-interoperability/interoperability-registry.html">
            
                    
                    Interoperability Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../tool-and-function-interoperability/langchain-and-crewai-tool-conversion.html">
            
                <a href="../tool-and-function-interoperability/langchain-and-crewai-tool-conversion.html">
            
                    
                    LangChain and CrewAI Tool Conversion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../tool-and-function-interoperability/pydantic-ai-tool-integration.html">
            
                <a href="../tool-and-function-interoperability/pydantic-ai-tool-integration.html">
            
                    
                    Pydantic AI Tool Integration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../retrieval-augmented-generation-and-vector-databases/">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/">
            
                    
                    Retrieval Augmented Generation and Vector Databases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../retrieval-augmented-generation-and-vector-databases/retrieveuserproxyagent.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/retrieveuserproxyagent.html">
            
                    
                    RetrieveUserProxyAgent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../retrieval-augmented-generation-and-vector-databases/vectordb-protocol.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/vectordb-protocol.html">
            
                    
                    VectorDB Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../retrieval-augmented-generation-and-vector-databases/chromadb-pgvector-qdrant-mongodb-integrations.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/chromadb-pgvector-qdrant-mongodb-integrations.html">
            
                    
                    ChromaDB PGVector Qdrant MongoDB Integrations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../retrieval-augmented-generation-and-vector-databases/querying-and-chunking-strategies.html">
            
                <a href="../retrieval-augmented-generation-and-vector-databases/querying-and-chunking-strategies.html">
            
                    
                    Querying and Chunking Strategies
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../structured-outputs-and-tool-calling-with-llms/">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/">
            
                    
                    Structured Outputs and Tool Calling with LLMs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../structured-outputs-and-tool-calling-with-llms/function-and-tool-schemas.html">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/function-and-tool-schemas.html">
            
                    
                    Function and Tool Schemas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../structured-outputs-and-tool-calling-with-llms/structured-output-formatting.html">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/structured-output-formatting.html">
            
                    
                    Structured Output Formatting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../structured-outputs-and-tool-calling-with-llms/tool-call-and-function-call-message-handling.html">
            
                <a href="../structured-outputs-and-tool-calling-with-llms/tool-call-and-function-call-message-handling.html">
            
                    
                    Tool Call and Function Call Message Handling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../multimodal-and-vision-capabilities/">
            
                <a href="../multimodal-and-vision-capabilities/">
            
                    
                    Multimodal and Vision Capabilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../multimodal-and-vision-capabilities/multimodalconversableagent.html">
            
                <a href="../multimodal-and-vision-capabilities/multimodalconversableagent.html">
            
                    
                    Multimodal Conversable Agent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../multimodal-and-vision-capabilities/visioncapability.html">
            
                <a href="../multimodal-and-vision-capabilities/visioncapability.html">
            
                    
                    Vision Capability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../multimodal-and-vision-capabilities/image-generation-and-captioning-tools.html">
            
                <a href="../multimodal-and-vision-capabilities/image-generation-and-captioning-tools.html">
            
                    
                    Image Generation and Captioning Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../multimodal-and-vision-capabilities/content-formatting-for-images.html">
            
                <a href="../multimodal-and-vision-capabilities/content-formatting-for-images.html">
            
                    
                    Content Formatting for Images
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="./">
            
                <a href="./">
            
                    
                    Agent Capabilities and Composability
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.12.1" data-path="agentcapability-base-class.html">
            
                <a href="agentcapability-base-class.html">
            
                    
                    AgentCapability Base Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="teachability-and-memory.html">
            
                <a href="teachability-and-memory.html">
            
                    
                    Teachability and Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="toolscapability-composition.html">
            
                <a href="toolscapability-composition.html">
            
                    
                    ToolsCapability Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="transformmessages-and-message-transforms.html">
            
                <a href="transformmessages-and-message-transforms.html">
            
                    
                    TransformMessages and Message Transforms
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../group-and-swarm-agent-patterns/">
            
                <a href="../group-and-swarm-agent-patterns/">
            
                    
                    Group and Swarm Agent Patterns
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../group-and-swarm-agent-patterns/swarmagent-and-afterwork.html">
            
                <a href="../group-and-swarm-agent-patterns/swarmagent-and-afterwork.html">
            
                    
                    SwarmAgent and AfterWork
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../group-and-swarm-agent-patterns/oncondition-and-nested-chat-transitions.html">
            
                <a href="../group-and-swarm-agent-patterns/oncondition-and-nested-chat-transitions.html">
            
                    
                    OnCondition and Nested Chat Transitions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../group-and-swarm-agent-patterns/pattern-classes-for-orchestration.html">
            
                <a href="../group-and-swarm-agent-patterns/pattern-classes-for-orchestration.html">
            
                    
                    Pattern Classes for Orchestration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../practical-pitfalls-and-best-practices/">
            
                <a href="../practical-pitfalls-and-best-practices/">
            
                    
                    Practical Pitfalls and Best Practices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../practical-pitfalls-and-best-practices/error-handling-in-agent-orchestration.html">
            
                <a href="../practical-pitfalls-and-best-practices/error-handling-in-agent-orchestration.html">
            
                    
                    Error Handling in Agent Orchestration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../practical-pitfalls-and-best-practices/security-considerations-for-code-execution.html">
            
                <a href="../practical-pitfalls-and-best-practices/security-considerations-for-code-execution.html">
            
                    
                    Security Considerations for Code Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../practical-pitfalls-and-best-practices/testing-and-logging-strategies.html">
            
                <a href="../practical-pitfalls-and-best-practices/testing-and-logging-strategies.html">
            
                    
                    Testing and Logging Strategies
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >AgentCapability Base Class</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="agentcapability-base-class">AgentCapability base class</h1>
<h2 id="overview">Overview</h2>
<p>The <code>AgentCapability</code> base class is a foundational abstraction for building modular, composable, and extensible agents. It defines a standard interface for adding discrete skills (capabilities) to agents, enabling them to handle various modalities (such as vision or text), manage context, and support advanced features like teachability and vector memory. By designing capabilities as composable units, developers can create complex, multimodal agents with clear separation of concerns.</p>
<hr></hr>
<h2 id="explanation">Explanation</h2>
<p>The <code>AgentCapability</code> base class encapsulates logic or skills that can be attached to an agent. Each capability provides specific methods or message handlers, which the agent can invoke during interaction. This pattern allows developers to:</p>
<ul>
<li><strong>Compose multiple capabilities:</strong> An agent can be constructed with any combination of capabilities (e.g., vision, memory, reasoning).</li>
<li><strong>Isolate functionality:</strong> Each capability encapsulates its own state and logic, making the system maintainable and testable.</li>
<li><strong>Enable teachability:</strong> Capabilities can manage knowledge bases with vector memory for storing and retrieving information.</li>
<li><strong>Handle context and conditional logic:</strong> Capabilities can implement context-aware behaviors, transforming messages or responses as needed.</li>
</ul>
<h3 id="key-concepts">Key Concepts</h3>
<ul>
<li><strong>Abstract Interface:</strong> Defines required methods (e.g., <code>handle_message</code>, <code>transform_message</code>).</li>
<li><strong>Registration:</strong> Capabilities are registered to an agent, which delegates tasks based on message types or context.</li>
<li><strong>Composability:</strong> Multiple capabilities can be combined, allowing agents to support a wide range of features.</li>
</ul>
<h3 id="example-structure">Example Structure</h3>
<pre><code class="lang-python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgentCapability</span>:
    <span class="hljs-string">"""
    Base class for agent capabilities.
    """</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_message</span>(<span class="hljs-params">self, message, context</span>):
        <span class="hljs-string">"""
        Process incoming message and return a response.
        """</span>
        <span class="hljs-keyword">raise</span> NotImplementedError

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">transform_message</span>(<span class="hljs-params">self, message, context</span>):
        <span class="hljs-string">"""
        Optionally transform the message based on context or state.
        """</span>
        <span class="hljs-keyword">return</span> message

    <span class="hljs-comment"># Additional optional methods for teachability, memory, etc.</span>
</code></pre>
<hr></hr>
<h2 id="examples">Examples</h2>
<h3 id="1-composing-capabilities-into-an-agent">1. Composing Capabilities into an Agent</h3>
<pre><code class="lang-python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Agent</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, capabilities</span>):
        <span class="hljs-variable language_">self</span>.capabilities = capabilities

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle</span>(<span class="hljs-params">self, message, context</span>):
        <span class="hljs-keyword">for</span> capability <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.capabilities:
            <span class="hljs-comment"># Each capability can decide if it should handle the message</span>
            response = capability.handle_message(message, context)
            <span class="hljs-keyword">if</span> response <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> response
        <span class="hljs-keyword">return</span> <span class="hljs-string">"I don't know how to handle that."</span>

<span class="hljs-comment"># Example vision capability</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">VisionCapability</span>(<span class="hljs-title class_ inherited__">AgentCapability</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_message</span>(<span class="hljs-params">self, message, context</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-string">'image'</span> <span class="hljs-keyword">in</span> message:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"I see an image!"</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># Example memory capability</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorMemoryCapability</span>(<span class="hljs-title class_ inherited__">AgentCapability</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-variable language_">self</span>.memory = []

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_message</span>(<span class="hljs-params">self, message, context</span>):
        <span class="hljs-keyword">if</span> message.get(<span class="hljs-string">'teach'</span>):
            <span class="hljs-variable language_">self</span>.memory.append(message[<span class="hljs-string">'teach'</span>])
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Knowledge stored."</span>
        <span class="hljs-keyword">if</span> message.get(<span class="hljs-string">'recall'</span>):
            <span class="hljs-comment"># Perform vector search (pseudo-code)</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"Closest match: <span class="hljs-subst">{self.memory[<span class="hljs-number">0</span>]}</span>"</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># Compose agent</span>
agent = Agent([
    VisionCapability(),
    VectorMemoryCapability(),
])

<span class="hljs-comment"># Use agent</span>
agent.handle({<span class="hljs-string">'image'</span>: <span class="hljs-string">'...'</span>}, {})
agent.handle({<span class="hljs-string">'teach'</span>: <span class="hljs-string">'The sky is blue.'</span>}, {})
</code></pre>
<h3 id="2-message-transformation-for-context-management">2. Message Transformation for Context Management</h3>
<pre><code class="lang-python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextTransformCapability</span>(<span class="hljs-title class_ inherited__">AgentCapability</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">transform_message</span>(<span class="hljs-params">self, message, context</span>):
        <span class="hljs-comment"># Add user info based on context variable</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">'user_id'</span> <span class="hljs-keyword">in</span> context:
            message[<span class="hljs-string">'user'</span>] = context[<span class="hljs-string">'user_id'</span>]
        <span class="hljs-keyword">return</span> message

<span class="hljs-comment"># In agent loop:</span>
<span class="hljs-keyword">for</span> capability <span class="hljs-keyword">in</span> agent.capabilities:
    message = capability.transform_message(message, context)
</code></pre>
<hr></hr>
<h2 id="best-practices">Best Practices</h2>
<ul>
<li><strong>Single Responsibility:</strong> Implement one logical skill per capability to maintain clarity.</li>
<li><strong>Explicit Registration:</strong> Register only the necessary capabilities for each agent to avoid unexpected behaviors.</li>
<li><strong>Message Routing:</strong> Use clear conventions for when a capability should handle or transform a message.</li>
<li><strong>Statelessness When Possible:</strong> Keep capabilities stateless unless necessary (e.g., for memory).</li>
<li><strong>Testing:</strong> Unit test each capability in isolation before composing them.</li>
<li><strong>Context Awareness:</strong> Use context variables and conditional logic to enable dynamic behaviors.</li>
</ul>
<p><strong>Common Pitfalls:</strong></p>
<ul>
<li>Overlapping responsibilities between capabilities, leading to ambiguous handling.</li>
<li>Not handling context propagation consistently, causing context loss.</li>
<li>Making capabilities too tightly coupled, reducing reusability.</li>
</ul>
<hr></hr>
<h2 id="related-concepts">Related Concepts</h2>
<ul>
<li><a href="#">Multimodal and Vision Capabilities</a></li>
<li><a href="#">Context Variables and Conditional Logic</a></li>
<li><a href="#">Teachability and Vector Memory</a></li>
<li><a href="#">Message Transforms</a></li>
<li><a href="#">Agent Architecture Patterns</a></li>
<li><a href="#">Handler Chains and Middleware</a></li>
</ul>
<p>For further reading, see:</p>
<ul>
<li><a href="https://refactoring.guru/design-patterns/strategy" target="_blank">Design Patterns: Strategy and Chain of Responsibility</a></li>
<li><a href="https://ai.stackexchange.com/questions/22381/what-are-composable-ai-agents" target="_blank">Composable AI Agents</a></li>
<li><a href="https://www.pinecone.io/learn/vector-database/" target="_blank">Vector Memory in AI Agents</a></li>
</ul>
<hr></hr>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Agent Capabilities and Composability">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="teachability-and-memory.html" class="navigation navigation-next " aria-label="Next page: Teachability and Memory">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"AgentCapability Base Class","level":"1.12.1","depth":2,"next":{"title":"Teachability and Memory","level":"1.12.2","depth":2,"path":"chapters/agent-capabilities-and-composability/teachability-and-memory.md","ref":"chapters/agent-capabilities-and-composability/teachability-and-memory.md","articles":[]},"previous":{"title":"Agent Capabilities and Composability","level":"1.12","depth":1,"path":"chapters/agent-capabilities-and-composability/README.md","ref":"chapters/agent-capabilities-and-composability/README.md","articles":[{"title":"AgentCapability Base Class","level":"1.12.1","depth":2,"path":"chapters/agent-capabilities-and-composability/agentcapability-base-class.md","ref":"chapters/agent-capabilities-and-composability/agentcapability-base-class.md","articles":[]},{"title":"Teachability and Memory","level":"1.12.2","depth":2,"path":"chapters/agent-capabilities-and-composability/teachability-and-memory.md","ref":"chapters/agent-capabilities-and-composability/teachability-and-memory.md","articles":[]},{"title":"ToolsCapability Composition","level":"1.12.3","depth":2,"path":"chapters/agent-capabilities-and-composability/toolscapability-composition.md","ref":"chapters/agent-capabilities-and-composability/toolscapability-composition.md","articles":[]},{"title":"TransformMessages and Message Transforms","level":"1.12.4","depth":2,"path":"chapters/agent-capabilities-and-composability/transformmessages-and-message-transforms.md","ref":"chapters/agent-capabilities-and-composability/transformmessages-and-message-transforms.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"AutoGen Team","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Agentic Documentation","language":"en","gitbook":"*"},"file":{"path":"chapters/agent-capabilities-and-composability/agentcapability-base-class.md","mtime":"2025-05-24T00:01:16.626Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-24T00:01:26.122Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

