
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>Custom Agents Â· Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="custom-tools.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started/">
            
                <a href="../getting-started/">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/quick-start.html">
            
                <a href="../getting-started/quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core-concepts/">
            
                <a href="../core-concepts/">
            
                    
                    Core Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../core-concepts/architecture-overview.html">
            
                <a href="../core-concepts/architecture-overview.html">
            
                    
                    Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../core-concepts/agents-and-conversations.html">
            
                <a href="../core-concepts/agents-and-conversations.html">
            
                    
                    Agents and Conversations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../core-concepts/llm-configuration.html">
            
                <a href="../core-concepts/llm-configuration.html">
            
                    
                    LLM Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../core-concepts/tools-and-toolkit.html">
            
                <a href="../core-concepts/tools-and-toolkit.html">
            
                    
                    Tools and Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../core-concepts/function-utilities.html">
            
                <a href="../core-concepts/function-utilities.html">
            
                    
                    Function Utilities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced-topics/">
            
                <a href="../advanced-topics/">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced-topics/group-chat-patterns.html">
            
                <a href="../advanced-topics/group-chat-patterns.html">
            
                    
                    Group Chat Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced-topics/capabilities-and-composability.html">
            
                <a href="../advanced-topics/capabilities-and-composability.html">
            
                    
                    Capabilities and Composability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced-topics/retrieval-augmented-generation.html">
            
                <a href="../advanced-topics/retrieval-augmented-generation.html">
            
                    
                    Retrieval Augmented Generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced-topics/interoperability.html">
            
                <a href="../advanced-topics/interoperability.html">
            
                    
                    Interoperability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced-topics/code-execution.html">
            
                <a href="../advanced-topics/code-execution.html">
            
                    
                    Code Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    Extending and Customizing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.1" data-path="custom-agents.html">
            
                <a href="custom-agents.html">
            
                    
                    Custom Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="custom-tools.html">
            
                <a href="custom-tools.html">
            
                    
                    Custom Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="integrating-new-llm-providers.html">
            
                <a href="integrating-new-llm-providers.html">
            
                    
                    Integrating New LLM Providers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../agent-patterns-and-workflows/">
            
                <a href="../agent-patterns-and-workflows/">
            
                    
                    Agent Patterns and Workflows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                <a href="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                    
                    Swarm and Nested Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../agent-patterns-and-workflows/realtime-agents.html">
            
                <a href="../agent-patterns-and-workflows/realtime-agents.html">
            
                    
                    Realtime Agents
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../testing-and-utilities/">
            
                <a href="../testing-and-utilities/">
            
                    
                    Testing and Utilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../testing-and-utilities/testing-patterns.html">
            
                <a href="../testing-and-utilities/testing-patterns.html">
            
                    
                    Testing Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../testing-and-utilities/utilities-and-helpers.html">
            
                <a href="../testing-and-utilities/utilities-and-helpers.html">
            
                    
                    Utilities and Helpers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Custom Agents</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>content:
  overview: |
    Custom Agents allow you to extend the core agent framework by defining your own agent classes with specialized behaviors, capabilities, and integrations. By subclassing the foundational ConversableAgent or implementing the Agent protocol, you can create agents that interact, reason, manage tools, and participate in group settings according to your unique requirements. Registering your custom agents ensures they are discoverable and usable within the broader agent ecosystem.
  explanation: |
    The framework is built around the <code>ConversableAgent</code> abstraction, which encapsulates agentic communication, tool usage, and messaging workflows. To tailor agents for advanced scenariosâ€”such as domain-specific reasoning, custom tool integration, or unique conversational logicâ€”you can define your own agent classes.</p>
<pre><code>Custom agents are typically created by either:
  - **Subclassing ConversableAgent**: Inherit its robust messaging, tool management, and reply logic, and override or extend methods to customize behavior.
  - **Implementing the Agent Protocol**: Define the required interface (`name`, `description`, `send`, `receive`, `generate_reply`, etc.) if you need lower-level or non-standard agent logic.

After creating a custom agent class, you can instantiate agents, register tools (functions or toolkits), and participate in direct or group conversations. Registering agents with orchestration components (e.g., GroupChatManager, registries) makes them accessible for workflows like multi-agent chat or automated handoffs.

**Key extension points include:**
  - Overriding `generate_reply` for custom message handling.
  - Registering tools with `register_for_llm` or `register_tool` for LLM function-calling.
  - Customizing chat history, system messages, or reply triggers.
  - Integrating with external systems or APIs.

This flexibility enables you to build agents for tasks such as domain-specific assistants, workflow organizers, API bridges, or even simulation bots.
</code></pre><p>  examples:</p>
<pre><code>- title: "Subclassing ConversableAgent for Domain-Specific Logic"
  description: |
    Create a custom agent that gives weather advice by overriding the reply generation method.
  code: |
    from autogen import ConversableAgent

    class WeatherAgent(ConversableAgent):
        def generate_reply(self, messages, sender, config, **kwargs):
            last_message = messages[-1]['content']
            if "weather" in last_message.lower():
                return "The weather is sunny today. ðŸŒž"
            return super().generate_reply(messages, sender, config, **kwargs)

    agent = WeatherAgent(
        name="weather_bot",
        system_message="You are a weather assistant.",
        llm_config={...}
    )
    user = ConversableAgent(name="user", human_input_mode="ALWAYS")
    agent.initiate_chat(user, message="What's the weather?")
- title: "Implementing the Agent Protocol Directly"
  description: |
    Build a lightweight agent by implementing only the protocol, suitable for non-chat or API-based logic.
  code: |
    from autogen.agentchat.agent import Agent

    class EchoAgent(Agent):
        def __init__(self, name):
            self.name = name
            self.description = "Echoes all messages."
        def send(self, message, recipient, **kwargs):
            recipient.receive(f"Echo: {message}", sender=self)
        def receive(self, message, sender, **kwargs):
            self.send(message, sender)
        def generate_reply(self, messages, sender, config, **kwargs):
            return f"Echo: {messages[-1]['content']}"

    echo = EchoAgent("echoer")
    # Use with a ConversableAgent or in a group chat
- title: "Registering and Using Tools in a Custom Agent"
  description: |
    Equip your custom agent with tools, allowing LLMs to call functions via tool registration.
  code: |
    from autogen import ConversableAgent
    from autogen.tools import tool

    class MathAgent(ConversableAgent):
        pass

    math_agent = MathAgent(name="math_bot", system_message="You solve math problems.", llm_config={...})

    @tool(name="multiply", description="Multiply two numbers")
    def multiply(a: int, b: int) -&gt; int:
        return a * b

    math_agent.register_for_llm()(multiply)
    # Now, LLMs can invoke 'multiply' during chat!
</code></pre><p>  best_practices:</p>
<pre><code>- "Always give each custom agent a unique, descriptive name to avoid confusion in group or multi-agent settings."
- "Prefer subclassing ConversableAgent for most use cases to leverage built-in chat and tool logic."
- "Register all tools and reply hooks before starting chats; late registration can result in missing capabilities."
- "When overriding methods like generate_reply, call super() if you want to retain default behaviors."
- "Explicitly set human_input_mode for agents to prevent unexpected prompts in automated flows."
- "Carefully manage chat history, especially in group contexts, to avoid excessive memory usage."
- "Test custom agents in isolation before integrating them into orchestrated group patterns."
- "Document custom behaviors and expected inputs/outputs for maintainability."
</code></pre><p>  related_concepts:</p>
<pre><code>- name: "ConversableAgent (and Agent Protocols)"
  description: "The foundational abstraction for agent behavior and communication; custom agents typically extend this."
- name: "Tool and Toolkit"
  description: "Encapsulate functions your custom agent can call; register these with your agent for LLM use."
- name: "GroupChat, GroupChatManager, and Patterns"
  description: "Allow custom agents to participate in structured multi-agent workflows and orchestrations."
- name: "LLMConfig and LLMConfigEntry"
  description: "Define model configuration for your custom agent, enabling use of various LLM providers."
- name: "Tool Interoperability"
  description: "Facilitates integration of tools from other ecosystems; useful if your custom agent needs external toolkits."
- name: "Hooks and Reply Functions"
  description: "Custom agents can register hooks or reply functions to further customize message handling."
- name: "Orchestration Patterns"
  description: "Patterns like AutoPattern, RoundRobin, etc., enable your custom agents to operate in coordinated group scenarios."
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Extending and Customizing">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="custom-tools.html" class="navigation navigation-next " aria-label="Next page: Custom Tools">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Custom Agents","level":"1.5.1","depth":2,"next":{"title":"Custom Tools","level":"1.5.2","depth":2,"path":"chapters/extending-and-customizing/custom-tools.md","ref":"chapters/extending-and-customizing/custom-tools.md","articles":[]},"previous":{"title":"Extending and Customizing","level":"1.5","depth":1,"path":"chapters/extending-and-customizing/README.md","ref":"chapters/extending-and-customizing/README.md","articles":[{"title":"Custom Agents","level":"1.5.1","depth":2,"path":"chapters/extending-and-customizing/custom-agents.md","ref":"chapters/extending-and-customizing/custom-agents.md","articles":[]},{"title":"Custom Tools","level":"1.5.2","depth":2,"path":"chapters/extending-and-customizing/custom-tools.md","ref":"chapters/extending-and-customizing/custom-tools.md","articles":[]},{"title":"Integrating New LLM Providers","level":"1.5.3","depth":2,"path":"chapters/extending-and-customizing/integrating-new-llm-providers.md","ref":"chapters/extending-and-customizing/integrating-new-llm-providers.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false,"showSummary":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","author":"","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Documentation","language":"en","gitbook":"*"},"file":{"path":"chapters/extending-and-customizing/custom-agents.md","mtime":"2025-05-23T21:50:36.760Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-23T21:50:48.308Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

