
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Realtime Agents · Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Your Name">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../testing-and-utilities.html" />
    
    
    <link rel="prev" href="swarm-and-nested-agents.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/quick-start.html">
            
                <a href="../getting-started/quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core-concepts.html">
            
                <a href="../core-concepts.html">
            
                    
                    Core Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../core-concepts/architecture-overview.html">
            
                <a href="../core-concepts/architecture-overview.html">
            
                    
                    Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../core-concepts/agents-and-conversations.html">
            
                <a href="../core-concepts/agents-and-conversations.html">
            
                    
                    Agents and Conversations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../core-concepts/llm-configuration.html">
            
                <a href="../core-concepts/llm-configuration.html">
            
                    
                    LLM Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../core-concepts/tools-and-toolkit.html">
            
                <a href="../core-concepts/tools-and-toolkit.html">
            
                    
                    Tools and Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../core-concepts/function-utilities.html">
            
                <a href="../core-concepts/function-utilities.html">
            
                    
                    Function Utilities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced-topics.html">
            
                <a href="../advanced-topics.html">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced-topics/group-chat-patterns.html">
            
                <a href="../advanced-topics/group-chat-patterns.html">
            
                    
                    Group Chat Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced-topics/capabilities-and-composability.html">
            
                <a href="../advanced-topics/capabilities-and-composability.html">
            
                    
                    Capabilities and Composability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced-topics/retrieval-augmented-generation.html">
            
                <a href="../advanced-topics/retrieval-augmented-generation.html">
            
                    
                    Retrieval Augmented Generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced-topics/interoperability.html">
            
                <a href="../advanced-topics/interoperability.html">
            
                    
                    Interoperability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced-topics/code-execution.html">
            
                <a href="../advanced-topics/code-execution.html">
            
                    
                    Code Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../extending-and-customizing.html">
            
                <a href="../extending-and-customizing.html">
            
                    
                    Extending and Customizing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../extending-and-customizing/custom-agents.html">
            
                <a href="../extending-and-customizing/custom-agents.html">
            
                    
                    Custom Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../extending-and-customizing/custom-tools.html">
            
                <a href="../extending-and-customizing/custom-tools.html">
            
                    
                    Custom Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../extending-and-customizing/integrating-new-llm-providers.html">
            
                <a href="../extending-and-customizing/integrating-new-llm-providers.html">
            
                    
                    Integrating New LLM Providers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../agent-patterns-and-workflows.html">
            
                <a href="../agent-patterns-and-workflows.html">
            
                    
                    Agent Patterns and Workflows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="swarm-and-nested-agents.html">
            
                <a href="swarm-and-nested-agents.html">
            
                    
                    Swarm and Nested Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.2" data-path="realtime-agents.html">
            
                <a href="realtime-agents.html">
            
                    
                    Realtime Agents
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../testing-and-utilities.html">
            
                <a href="../testing-and-utilities.html">
            
                    
                    Testing and Utilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../testing-and-utilities/testing-patterns.html">
            
                <a href="../testing-and-utilities/testing-patterns.html">
            
                    
                    Testing Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../testing-and-utilities/utilities-and-helpers.html">
            
                <a href="../testing-and-utilities/utilities-and-helpers.html">
            
                    
                    Utilities and Helpers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Realtime Agents</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="realtime-agents">Realtime Agents</h1>
<h2 id="quality-check">Quality Check</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">quality_check:</span>
<span class="hljs-attr">  score:</span> <span class="hljs-number">8</span>
<span class="hljs-attr">  issues:</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Accuracy"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The description of observers and audio adapters is generally correct, but the documentation could clarify how observer registration works (e.g., expected event names, signature of callbacks)."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Provide explicit details or a link/reference to valid observer event names and callback signatures."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Clarity"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Some terminology (e.g., 'send_and_stream_tokens') is used in code without explanation, and it's unclear if this is part of the documented API."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Clarify whether 'send_and_stream_tokens' is a public method, and briefly explain its usage or alternatives."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Completeness"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Edge cases like error handling during streaming, or what happens if LLM provider doesn't support streaming, are not addressed."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add a note on error handling and provider compatibility, or link to more detailed sections."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Code Example Quality"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The code examples do not show full working context (e.g., the UI example does not define 'chatbox', and audio handler is not wired to any event loop or input stream)."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Provide more complete code snippets or clarify what is assumed to be defined elsewhere."</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Best Practices"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Best practices are solid but could benefit from briefly explaining why unregistering observers is important."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add one sentence explaining the risks of leaving observers registered."</span>
<span class="hljs-attr">  strengths:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Clear distinction between traditional and realtime agent workflows."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Good coverage of core abstractions (ConversableAgent, Observers, Audio Adapters) and their roles."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Practical, focused code examples that illustrate key concepts."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Best practices section highlights important operational considerations."</span>
<span class="hljs-attr">  recommendations:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Expand code examples with more context, especially for UI and audio workflows."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Add a troubleshooting or FAQ subsection for common issues with streaming or audio integration."</span>
</code></pre>
<h2 id="content">Content</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">content:</span>
<span class="hljs-attr">  overview:</span> <span class="hljs-string">|
    Realtime agents enable interactive, low-latency agentic workflows by integrating with streaming APIs, live observers, and audio adapters. They allow agents to process input (text or audio) as it arrives, generate partial or incremental responses, and react to events in real time. This is essential for conversational interfaces, live chatbots, voice assistants, and agent-driven streaming applications.

</span><span class="hljs-attr">  explanation:</span> <span class="hljs-string">|
    Traditional agent workflows process full user messages in batch, waiting for an entire prompt before responding. In contrast, realtime agents leverage streaming APIs (such as OpenAI's streaming endpoints), observer hooks, and audio adapters to handle data as it arrives—enabling responsive, interactive experiences.

    Key abstractions for realtime agents include:

    - **ConversableAgent (and Agent Protocols):** Provides the foundation for sending/receiving messages and registering tools, supporting async and streaming interactions.
    - **Observers:** Components that monitor events (e.g., message received, token generated) and trigger callbacks, enabling real-time updates and UI refreshes.
    - **Audio Adapters:** Interfaces that handle conversion between audio streams and text, supporting speech-to-text (STT) and text-to-speech (TTS) for voice-enabled agents.

    A typical realtime agent workflow involves:
      1. Receiving streaming input (from a user or another agent).
      2. Processing and possibly emitting partial responses as the LLM generates tokens.
      3. Using observers to update UIs or trigger other logic on new data.
      4. Optionally converting audio to text for input, or generating audio output for responses.

    The agent framework supports streaming via model configuration (e.g., `llm_config={"stream": True}`), observer registration, and audio adapter integration, enabling seamless development of conversational and voice-first applications.

</span><span class="hljs-attr">  examples:</span>
<span class="hljs-attr">    - title:</span> <span class="hljs-string">"Streaming Chat Response with ConversableAgent"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">|
        Create an agent configured for streaming, and register an observer to process tokens as they are generated.
</span><span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen import ConversableAgent

        def on_token(token, **kwargs):
            print(f"Received token: {token}", end="", flush=True)

        agent = ConversableAgent(
            name="assistant",
            system_message="You are a helpful, streaming AI.",
            llm_config={"model": "gpt-4", "api_key": "...", "stream": True}
        )
        agent.register_observer("on_token", on_token)

        # Initiate a chat; tokens will be printed as they arrive
        agent.initiate_chat(None, message="Tell me a long story.")

</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Realtime Voice Agent with Audio Adapter"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">|
        Connect an audio adapter for speech-to-text (STT) and text-to-speech (TTS), enabling voice interactions in real time.
</span><span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen import ConversableAgent
        from autogen.audio.adapters import WhisperAdapter, ElevenLabsAdapter

        # Configure agent for streaming
        agent = ConversableAgent(
            name="voice_assistant",
            system_message="You are a helpful voice AI.",
            llm_config={"model": "gpt-4", "api_key": "...", "stream": True}
        )

        # Register audio adapters
        agent.register_audio_adapter("stt", WhisperAdapter())
        agent.register_audio_adapter("tts", ElevenLabsAdapter(api_key="..."))

        # This function would be called when new audio arrives
        def on_audio_chunk(audio_chunk):
            text = agent.audio_adapters["stt"].transcribe(audio_chunk)
            # Stream response as audio
            for token in agent.send_and_stream_tokens(text):
                agent.audio_adapters["tts"].play(token)

</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Observer for Realtime UI Updates"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">|
        Use observers to update a frontend UI as tokens are generated.
</span><span class="hljs-attr">      code:</span> <span class="hljs-string">|
        def ui_update(token, **kwargs):
            # Append token to a UI element (e.g., chatbox)
            chatbox.append(token)

        agent.register_observer("on_token", ui_update)
        agent.initiate_chat(None, message="Summarize the news today.")

</span><span class="hljs-attr">  best_practices:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Always set `llm_config['stream'] = True` for agents intended for realtime/streaming interactions."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Use observers for side effects (UI updates, logging) instead of modifying agent state directly."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"When working with audio adapters, handle errors and silence input gracefully to avoid blocking the main loop."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Keep observer callbacks fast and non-blocking to avoid introducing latency."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Test streaming with both short and long responses to ensure stable token handling."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Explicitly unregister observers when they are no longer needed to prevent memory leaks or redundant callbacks."</span>

<span class="hljs-attr">  related_concepts:</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"ConversableAgent"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The base abstraction for all agent communication—supports streaming and observer patterns for realtime operation."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Observers"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Mechanism for triggering callbacks on agent events (e.g., message/token received), enabling realtime updates."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Audio Adapters"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Interfaces for integrating speech-to-text and text-to-speech in agent workflows, essential for voice-based realtime agents."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"LLMConfig"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Model configuration object; set `stream=True` to enable realtime streaming from compatible LLM providers."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Tool and Toolkit"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Tools may be used in realtime by agents as part of their streaming or incremental response logic."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"GroupChatManager"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Manages multi-agent streaming conversations, coordinating which agent responds in real time."</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="swarm-and-nested-agents.html" class="navigation navigation-prev " aria-label="Previous page: Swarm and Nested Agents">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../testing-and-utilities.html" class="navigation navigation-next " aria-label="Next page: Testing and Utilities">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Realtime Agents","level":"1.6.2","depth":2,"next":{"title":"Testing and Utilities","level":"1.7","depth":1,"path":"testing-and-utilities.md","ref":"testing-and-utilities.md","articles":[{"title":"Testing Patterns","level":"1.7.1","depth":2,"path":"testing-and-utilities/testing-patterns.md","ref":"testing-and-utilities/testing-patterns.md","articles":[]},{"title":"Utilities and Helpers","level":"1.7.2","depth":2,"path":"testing-and-utilities/utilities-and-helpers.md","ref":"testing-and-utilities/utilities-and-helpers.md","articles":[]}]},"previous":{"title":"Swarm and Nested Agents","level":"1.6.1","depth":2,"path":"agent-patterns-and-workflows/swarm-and-nested-agents.md","ref":"agent-patterns-and-workflows/swarm-and-nested-agents.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false,"showSummary":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","author":"Your Name","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Documentation","language":"en","gitbook":"*"},"file":{"path":"agent-patterns-and-workflows/realtime-agents.md","mtime":"2025-05-23T21:32:44.628Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-23T21:32:59.730Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

