
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>LLM Configuration · Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 6.0.3">
        <meta name="author" content="Your Name">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="tools-and-toolkit.html" />
    
    
    <link rel="prev" href="agents-and-conversations.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting-started/quick-start.html">
            
                <a href="../getting-started/quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../core-concepts.html">
            
                <a href="../core-concepts.html">
            
                    
                    Core Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="architecture-overview.html">
            
                <a href="architecture-overview.html">
            
                    
                    Architecture Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="agents-and-conversations.html">
            
                <a href="agents-and-conversations.html">
            
                    
                    Agents and Conversations
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.3" data-path="llm-configuration.html">
            
                <a href="llm-configuration.html">
            
                    
                    LLM Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="tools-and-toolkit.html">
            
                <a href="tools-and-toolkit.html">
            
                    
                    Tools and Toolkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="function-utilities.html">
            
                <a href="function-utilities.html">
            
                    
                    Function Utilities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced-topics.html">
            
                <a href="../advanced-topics.html">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced-topics/group-chat-patterns.html">
            
                <a href="../advanced-topics/group-chat-patterns.html">
            
                    
                    Group Chat Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced-topics/capabilities-and-composability.html">
            
                <a href="../advanced-topics/capabilities-and-composability.html">
            
                    
                    Capabilities and Composability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced-topics/retrieval-augmented-generation.html">
            
                <a href="../advanced-topics/retrieval-augmented-generation.html">
            
                    
                    Retrieval Augmented Generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced-topics/interoperability.html">
            
                <a href="../advanced-topics/interoperability.html">
            
                    
                    Interoperability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced-topics/code-execution.html">
            
                <a href="../advanced-topics/code-execution.html">
            
                    
                    Code Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../extending-and-customizing.html">
            
                <a href="../extending-and-customizing.html">
            
                    
                    Extending and Customizing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../extending-and-customizing/custom-agents.html">
            
                <a href="../extending-and-customizing/custom-agents.html">
            
                    
                    Custom Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../extending-and-customizing/custom-tools.html">
            
                <a href="../extending-and-customizing/custom-tools.html">
            
                    
                    Custom Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../extending-and-customizing/integrating-new-llm-providers.html">
            
                <a href="../extending-and-customizing/integrating-new-llm-providers.html">
            
                    
                    Integrating New LLM Providers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../agent-patterns-and-workflows.html">
            
                <a href="../agent-patterns-and-workflows.html">
            
                    
                    Agent Patterns and Workflows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                <a href="../agent-patterns-and-workflows/swarm-and-nested-agents.html">
            
                    
                    Swarm and Nested Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../agent-patterns-and-workflows/realtime-agents.html">
            
                <a href="../agent-patterns-and-workflows/realtime-agents.html">
            
                    
                    Realtime Agents
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../testing-and-utilities.html">
            
                <a href="../testing-and-utilities.html">
            
                    
                    Testing and Utilities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../testing-and-utilities/testing-patterns.html">
            
                <a href="../testing-and-utilities/testing-patterns.html">
            
                    
                    Testing Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../testing-and-utilities/utilities-and-helpers.html">
            
                <a href="../testing-and-utilities/utilities-and-helpers.html">
            
                    
                    Utilities and Helpers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >LLM Configuration</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="llm-configuration">LLM Configuration</h1>
<h2 id="quality-check">Quality Check</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">quality_check:</span>
<span class="hljs-attr">  score:</span> <span class="hljs-number">8</span>
<span class="hljs-attr">  issues:</span>
<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Accuracy and Technical Correctness"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The documentation refers to methods like `LLMConfig.from_json(env=...)` and `LLMConfig.from_env`, but only `from_json` is shown in use. If both exist, their differences should be clarified. Also, provider-specific subclass examples are limited to OpenAI; Azure and Gemini are mentioned in the overview but not exemplified."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Clarify availability and differences between `from_json` and `from_env`. Add at least one example or mention for Azure/Gemini configuration."</span>

<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Clarity and Readability"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Some sentences are dense and could benefit from clearer structure or simpler language. For example, the explanation of context management and the relationship between LLMConfig and agents can be more concise."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Split long sentences, and use bullet points or subheadings where appropriate for easier reading."</span>

<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Completeness and Comprehensiveness"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"The best practices and examples do not address error handling, troubleshooting, or how to extend LLMConfigEntry for new providers."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"medium"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add a note or example about error handling, and briefly mention how to extend for unsupported providers."</span>

<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Code Example Quality"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Most code examples are clear, but they lack comments explaining the rationale for each step, and do not show the output or expected results. Also, some imports are inconsistent (e.g., `from autogen.oai.client import OpenAILLMConfigEntry`—should this be directly accessible?)."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Add inline comments to code, and clarify import paths if needed. Optionally, show expected output for at least one example."</span>

<span class="hljs-attr">    - type:</span> <span class="hljs-string">"Best Practices Coverage"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Best practices are good but could include advice on managing credentials securely (e.g., using secrets managers over environment variables in production), and on testing LLM configurations."</span>
<span class="hljs-attr">      severity:</span> <span class="hljs-string">"low"</span>
<span class="hljs-attr">      suggestion:</span> <span class="hljs-string">"Expand best practices to include credential management and testing recommendations."</span>
<span class="hljs-attr">  strengths:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Very thorough overview that explains both high-level concepts and practical details of LLM configuration."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Examples cover initialization, provider-specific configuration, context management, and filtering, demonstrating the core workflow."</span>
<span class="hljs-attr">  recommendations:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Add or reference an example for non-OpenAI providers (Azure, Gemini) to demonstrate multi-provider support."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Clarify and differentiate between `from_json` and `from_env` methods, and include a note on how to extend for additional providers."</span>
</code></pre>
<h2 id="content">Content</h2>
<pre><code class="lang-yaml"><span class="hljs-attr">content:</span>
<span class="hljs-attr">  overview:</span> <span class="hljs-string">|
    LLM Configuration is the foundational process of specifying, validating, and managing the settings required to use large language models (LLMs) and their clients within the agent framework. This includes selecting providers (e.g., OpenAI, Azure, Gemini), defining model parameters, handling authentication, and orchestrating model usage across agents and groups. Robust LLM configuration ensures agents can communicate effectively, leverage advanced features such as tool calling, and operate securely in multi-agent or multi-provider environments.
</span><span class="hljs-attr">  explanation:</span> <span class="hljs-string">|
    Configuring an LLM involves more than just providing an API key and model name. The framework introduces the `LLMConfig` and `LLMConfigEntry` abstractions to standardize configuration for all supported LLM providers. This design enables agents, toolkits, and group orchestrations to interact with LLMs in a provider-agnostic way, supporting serialization, filtering, context management, and extensibility.

    - **LLMConfig**: Represents a collection of `LLMConfigEntry` objects, each specifying the configuration for a single model/provider. It supports loading from JSON files, environment variables, or direct instantiation, and provides filtering and context management for advanced use cases.
    - **LLMConfigEntry**: An abstract base class for individual model configurations (e.g., model name, API key, endpoint). Each provider (such as OpenAI, Azure, Gemini) has its own subclass with required fields.
    - **Context Management**: Using `LLMConfig.current(...)` as a context manager allows for temporary overriding of the active configuration, useful in multi-threaded or multi-agent scenarios.

    Agents, such as those inheriting from `ConversableAgent`, are initialized with an `llm_config` parameter. This ensures that all agent operations, including tool-calling and message generation, are governed by the specified model configuration. Advanced usage includes filtering configurations for specific models or capabilities, and leveraging environment-based loading for secure and scalable deployments.

    Proper LLM configuration is essential for:
    - Ensuring consistent, secure, and reproducible agent behavior.
    - Switching between providers or models without code changes.
    - Supporting advanced features like function-calling, chat history management, and group orchestration.
</span><span class="hljs-attr">  examples:</span>
<span class="hljs-attr">    - title:</span> <span class="hljs-string">"Basic Agent Setup with LLMConfig"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Initialize a ConversableAgent with an LLM configuration loaded from environment variables."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen.llm_config import LLMConfig
        from autogen import ConversableAgent

        # Load configuration from an environment variable (e.g., OAI_CONFIG_LIST)
        config = LLMConfig.from_json(env="OAI_CONFIG_LIST")

        # Create an agent with the loaded config
        agent = ConversableAgent(
            name="assistant",
            system_message="You are a helpful AI.",
            llm_config=config
        )
</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Provider-Specific Configuration"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Directly specify an OpenAI model and API key using OpenAILLMConfigEntry."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen.oai.client import OpenAILLMConfigEntry
        from autogen.llm_config import LLMConfig
        from autogen import ConversableAgent

        entry = OpenAILLMConfigEntry(
            model="gpt-4",
            api_key="sk-...",
            organization="org-..."
        )
        config = LLMConfig([entry])
        agent = ConversableAgent("openai_agent", llm_config=config)
</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Context Management for Temporary LLMConfig"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Temporarily override the global LLM configuration within a code block."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        from autogen.llm_config import LLMConfig

        config = LLMConfig.from_json(env="OAI_CONFIG_LIST")
        with LLMConfig.current(config):
            # All agents created here will use 'config' unless specifically overridden
            ...
</span><span class="hljs-attr">    - title:</span> <span class="hljs-string">"Filtering LLMConfig for a Specific Model"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Select only GPT-4 entries from a multi-provider configuration list."</span>
<span class="hljs-attr">      code:</span> <span class="hljs-string">|
        config = LLMConfig.from_json(env="OAI_CONFIG_LIST")
        gpt4_config = config.where(model="gpt-4")
        agent = ConversableAgent("gpt4_agent", llm_config=gpt4_config)
</span><span class="hljs-attr">  best_practices:</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Always use provider-specific LLMConfigEntry subclasses for correct field validation."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Load configurations from secure sources (environment variables, secrets managers), not hardcoded values."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Use `LLMConfig.from_json` or `from_env` for scalable, environment-driven deployments."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Filter LLMConfig with `.where()` to target specific models or providers for agents."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Leverage context management (`with LLMConfig.current(...)`) for temporary changes, especially in testing or multi-agent workflows."</span>
<span class="hljs-bullet">    -</span> <span class="hljs-string">"Avoid passing raw dictionaries as `llm_config`; always use LLMConfig for consistency and validation."</span>
<span class="hljs-attr">  related_concepts:</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"ConversableAgent (and Agent Protocols)"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Agents require `llm_config` to communicate with LLMs and perform message generation and tool-calling."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Tool and Toolkit"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"LLM configuration affects which tools can be invoked by the agent, especially for function-calling models."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"GroupChat and Group Patterns"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Group chat orchestration may require consistent or per-agent LLMConfig for coordinated conversations."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"LLMConfigEntry"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Represents individual model/provider configurations used within LLMConfig."</span>
<span class="hljs-attr">    - name:</span> <span class="hljs-string">"Context Management"</span>
<span class="hljs-attr">      description:</span> <span class="hljs-string">"Contextual configuration enables safe overrides and multi-threaded agent scenarios."</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="agents-and-conversations.html" class="navigation navigation-prev " aria-label="Previous page: Agents and Conversations">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="tools-and-toolkit.html" class="navigation navigation-next " aria-label="Next page: Tools and Toolkit">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"LLM Configuration","level":"1.3.3","depth":2,"next":{"title":"Tools and Toolkit","level":"1.3.4","depth":2,"path":"core-concepts/tools-and-toolkit.md","ref":"core-concepts/tools-and-toolkit.md","articles":[]},"previous":{"title":"Agents and Conversations","level":"1.3.2","depth":2,"path":"core-concepts/agents-and-conversations.md","ref":"core-concepts/agents-and-conversations.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false,"showSummary":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2}},"theme":"default","author":"Your Name","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Documentation","language":"en","gitbook":"*"},"file":{"path":"core-concepts/llm-configuration.md","mtime":"2025-05-23T21:32:44.628Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-05-23T21:32:59.730Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

